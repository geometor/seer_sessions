
## train_1

**input:**
```
0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 2 0
0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0 0
0 0 1 0 0 0 0 0 0
0 0 2 0 0 0 0 2 0
0 2 0 0 0 5 5 0 0
0 0 0 0 0 0 0 0 0
4 4 4 4 4 4 4 4 4
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 2 0
0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0 0
0 0 1 0 0 0 0 0 0
0 0 2 0 0 0 0 2 0
0 2 0 0 0 5 5 0 0
0 0 0 0 0 0 0 0 0
4 4 4 4 4 4 4 4 4
0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 2 0
0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0 0
0 0 1 0 0 0 0 0 0
0 0 2 0 0 0 0 2 0
0 2 0 0 0 5 5 0 0
0 0 0 0 0 0 0 0 0
```


## train_2

**input:**
```
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 7 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 2 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 2 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 3 0 0 0 3 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 8 7 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 8 0 0 3 0 4 0 0 0 0 0 0 0 0 0
0 7 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 7 0 0 0 4 0 0 0 0 0 7 0 0 0
0 0 0 2 0 0 0 0 0 4 0 0 0 2 0 0 0 0 0
0 0 2 0 0 0 0 0 0 4 0 0 2 0 0 0 0 0 0
0 3 0 0 0 3 0 0 0 4 0 3 0 0 0 3 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 8 7 0 0 0 0 4 0 0 0 8 7 0 0 0 0
0 0 0 0 8 0 0 3 0 4 0 0 0 0 8 0 0 3 0
0 7 0 0 0 0 0 0 0 4 0 7 0 0 0 0 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 7 0 0 0 4 0 0 0 0 0 7 0 0 0
0 0 0 2 0 0 0 0 0 4 0 0 0 2 0 0 0 0 0
0 0 2 0 0 0 0 0 0 4 0 0 2 0 0 0 0 0 0
0 3 0 0 0 3 0 0 0 4 0 3 0 0 0 3 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 8 7 0 0 0 0 4 0 0 0 8 7 0 0 0 0
0 0 0 0 8 0 0 3 0 4 0 0 0 0 8 0 0 3 0
0 7 0 0 0 0 0 0 0 4 0 7 0 0 0 0 0 0 0
```

Okay, let's analyze the provided examples to understand the transformation logic.

**Perception of Elements:**

1.  **Input/Output Structure:** Both input and output are 2D grids (matrices) of integers.
2.  **Grid Contents:** The grids primarily contain the number 0, representing a background. Non-zero numbers (1, 2, 3, 4, 5, 7, 8) are sparsely distributed.
3.  **Key Feature - Axis:** A distinct feature is the presence of lines (rows or columns) composed entirely of the number 4. These lines act as axes or separators.
    *   In `train_1`, there is a horizontal line of 4s.
    *   In `train_2`, there is both a horizontal line and a vertical line of 4s.
4.  **Transformation Pattern:** The transformation seems to involve rearranging sections of the grid relative to these axes of 4s.
    *   In `train_1` (horizontal axis only): The content *above* the axis in the input appears *below* the axis in the output, and the content *below* the axis in the input appears *above* the axis in the output. The axis itself remains unchanged. This is effectively a swap of the regions across the horizontal axis.
    *   In `train_2` (horizontal and vertical axes): The grid is divided into four quadrants by the axes. The transformation swaps diagonally opposite quadrants. The Top-Left quadrant swaps with the Bottom-Right, and the Top-Right quadrant swaps with the Bottom-Left. The axes themselves remain unchanged.

**YAML Facts:**


```yaml
task_elements:
  - element: grid
    description: A 2D array of integers representing the input and output state.
    properties:
      - dimensions: [rows, columns]
      - values: integers, with 0 as background and other integers (like 1, 2, 3, 4, 5, 7, 8) as foreground elements.
  - element: axis
    description: A line (row or column) within the grid composed entirely of the integer 4. Acts as a reference for transformation.
    properties:
      - type: 'horizontal' or 'vertical'
      - index: The row or column index of the axis.
      - identifier_value: 4
    relationships:
      - divides: the grid into regions (e.g., upper/lower, left/right) or quadrants.
  - element: region
    description: A contiguous section of the grid defined relative to an axis.
    properties:
      - location: 'upper', 'lower', 'left', 'right' relative to the axis.
    relationships:
      - defined_by: axis
  - element: quadrant
    description: A section of the grid defined by the intersection of a horizontal and a vertical axis.
    properties:
      - location: 'top_left', 'top_right', 'bottom_left', 'bottom_right' relative to the intersection point.
    relationships:
      - defined_by: horizontal_axis, vertical_axis
actions:
  - action: identify_axes
    description: Scan the input grid to find rows and columns composed entirely of the number 4.
    inputs: input_grid
    outputs: horizontal_axis_index (if found), vertical_axis_index (if found)
  - action: swap_regions
    description: Exchange the positions of regions across a single axis.
    condition: Only one axis (horizontal or vertical) is present.
    inputs: input_grid, axis_index, axis_type
    outputs: modified_grid
  - action: swap_quadrants
    description: Exchange the positions of diagonally opposite quadrants defined by two axes.
    condition: Both horizontal and vertical axes are present.
    inputs: input_grid, horizontal_axis_index, vertical_axis_index
    outputs: modified_grid
  - action: copy_axis
    description: Ensure the axis line(s) remain unchanged in the output grid.
    inputs: input_grid, axis_index(es)
    outputs: axis line(s) in the output_grid
```


**Natural Language Program:**

1.  Receive the input grid.
2.  Determine the dimensions (number of rows and columns) of the input grid.
3.  Scan the input grid to locate a horizontal axis: a row where all elements are 4. Record its row index if found.
4.  Scan the input grid to locate a vertical axis: a column where all elements are 4. Record its column index if found.
5.  Create an output grid of the same dimensions as the input grid.
6.  **Scenario 1: Both a horizontal axis (at row `h`) and a vertical axis (at column `v`) are found:**
    a.  Copy the horizontal axis row `h` from the input to the output grid at row `h`.
    b.  Copy the vertical axis column `v` from the input to the output grid at column `v`.
    c.  Copy the input grid's Top-Left quadrant (rows `< h`, cols `< v`) to the output grid's Bottom-Right quadrant (rows `> h`, cols `> v`).
    d.  Copy the input grid's Top-Right quadrant (rows `< h`, cols `> v`) to the output grid's Bottom-Left quadrant (rows `> h`, cols `< v`).
    e.  Copy the input grid's Bottom-Left quadrant (rows `> h`, cols `< v`) to the output grid's Top-Right quadrant (rows `< h`, cols `> v`).
    f.  Copy the input grid's Bottom-Right quadrant (rows `> h`, cols `> v`) to the output grid's Top-Left quadrant (rows `< h`, cols `< v`).
7.  **Scenario 2: Only a horizontal axis (at row `h`) is found:**
    a.  Copy the horizontal axis row `h` from the input to the output grid at row `h`.
    b.  Copy the input grid's upper region (all rows `< h`) to the output grid's lower region (all rows `> h`).
    c.  Copy the input grid's lower region (all rows `> h`) to the output grid's upper region (all rows `< h`).
8.  **Scenario 3: Only a vertical axis (at column `v`) is found:** (Inferred logical case)
    a.  Copy the vertical axis column `v` from the input to the output grid at column `v`.
    b.  Copy the input grid's left region (all cols `< v`) to the output grid's right region (all cols `> v`).
    c.  Copy the input grid's right region (all cols `> v`) to the output grid's left region (all cols `< v`).
9.  Return the completed output grid.
