
## train_1

**input:**
```
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
2 2 2 2 8 8 8 2 2 2 2 2 2 2 2 2 2
2 2 2 2 8 2 2 2 2 2 2 2 2 2 2 2 2
2 2 2 2 8 8 8 2 2 2 2 2 2 2 2 2 2
2 2 2 2 2 2 8 2 2 2 2 2 2 2 2 2 2
2 2 2 2 8 8 8 2 2 2 2 2 2 2 2 2 2
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
2 2 2 2 2 2 2 2 3 2 3 2 3 2 2 2 2
2 2 2 2 2 2 2 2 3 3 3 3 3 2 2 2 2
2 2 2 2 2 2 2 2 2 2 3 2 2 2 2 2 2
1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2
1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2
1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2
```


**output:**
```
8 8 8
8 2 2
8 8 8
2 2 8
8 8 8
```


## train_2

**input:**
```
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 3 8 3 8 8 8 8 8 8 8 8 8 8 8
8 8 8 3 3 3 3 3 8 8 8 8 8 8 8 8 8 8
8 8 8 8 3 8 3 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 4 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 4 4 4 8 8 8 8
8 6 6 8 8 8 8 8 8 8 8 8 4 8 8 8 8 8
8 6 6 8 8 8 8 8 8 8 8 4 4 4 8 8 8 8
6 6 6 6 6 8 8 8 8 8 8 8 4 8 8 8 8 8
6 6 6 6 6 8 8 8 8 8 8 8 8 8 8 8 8 8
8 6 6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 6 6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
6 6 6 6 6 8 8 8 8 8 8 8 8 8 8 8 8 8
6 6 6 6 6 8 8 8 8 8 8 8 8 8 8 8 8 8
```


**output:**
```
8 4 8
4 4 4
8 4 8
4 4 4
8 4 8
```


## train_3

**input:**
```
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 8 1 1 8 1 1 1 1 1 1 1 1
1 1 1 1 1 8 8 8 8 1 1 1 1 1 1 1 1
1 1 1 1 1 8 1 1 8 1 1 1 1 1 1 1 1
1 1 1 1 1 8 8 8 8 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
2 2 2 2 2 1 1 1 1 3 3 3 1 1 1 1 1
2 2 2 2 2 1 1 1 3 3 1 3 3 1 1 1 1
2 1 1 2 2 2 2 1 1 3 3 3 1 1 1 1 1
2 1 1 2 2 2 2 1 1 1 1 1 1 1 1 1 1
2 2 2 2 2 1 1 1 1 1 1 1 1 1 1 1 1
2 2 2 2 2 1 1 1 1 1 1 1 1 1 1 1 1
```


**output:**
```
1 3 3 3 1
3 3 1 3 3
1 3 3 3 1
```


## train_4

**input:**
```
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 3 3 1 3 3 1
1 1 1 2 2 2 2 2 1 1 1 3 1 1 1 3 1
1 1 1 2 1 2 1 2 1 1 1 3 3 3 3 3 1
1 1 1 1 1 1 1 2 1 1 1 1 1 3 1 1 1
1 1 1 2 1 2 1 2 1 1 1 3 3 3 3 3 1
1 1 1 2 2 2 2 2 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 8 8 8 8 8 8 8 8 8 8 1 1 1 1
1 1 1 8 8 8 8 8 8 8 8 8 8 1 1 1 1
1 1 1 8 8 1 1 8 8 1 1 8 8 1 1 1 1
1 1 1 8 8 1 1 8 8 1 1 8 8 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 8 8 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 8 8 1 1 1 1
1 1 1 8 8 1 1 8 8 1 1 8 8 1 1 1 1
1 1 1 8 8 1 1 8 8 1 1 8 8 1 1 1 1
```


**output:**
```
2 2 2 2 2
2 1 2 1 2
1 1 1 1 2
2 1 2 1 2
2 2 2 2 2
```

Okay, let's break down the task based on the provided examples.

## Perception

1.  **Input/Output Structure**: The input is a larger grid of numbers (integers from 1 to 8). The output is a smaller grid, also containing numbers found in the input.
2.  **Core Task**: The task appears to involve identifying specific shapes or patterns within the input grid and extracting one of them into the output grid. The output grid corresponds to the bounding box of the selected shape.
3.  **Objects/Shapes**: The input grids contain a background color (usually the most frequent color) and one or more distinct contiguous shapes made of other colors.
4.  **Selection Logic**: There are multiple shapes in each input. The crucial part is determining *which* shape to select. The selection criteria seem complex and depend on the *set* of colors used by the shapes present in the input, and in some cases, on the topological properties (number of holes) of a specific shape (
