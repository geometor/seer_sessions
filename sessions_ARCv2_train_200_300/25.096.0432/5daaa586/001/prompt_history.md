
## train_1

**input:**
```
0 0 4 0 0 0 0 0 0 1 0 0
0 0 4 0 0 0 0 0 0 1 0 0
8 8 4 8 8 8 8 8 8 1 8 8
0 0 4 0 0 0 0 0 0 1 0 0
0 0 4 0 0 0 0 0 0 1 0 0
0 0 4 0 0 0 8 0 0 1 0 8
0 0 4 8 0 0 8 0 0 1 0 0
0 0 4 0 0 0 0 0 0 1 0 0
0 0 4 0 0 0 0 8 0 1 0 8
6 6 6 6 6 6 6 6 6 1 6 6
0 0 4 0 0 0 8 0 0 1 0 0
0 8 4 0 0 0 0 8 0 1 0 0
```


**output:**
```
4 8 8 8 8 8 8 1
4 8 0 0 8 8 0 1
4 8 0 0 8 8 0 1
4 8 0 0 8 8 0 1
4 8 0 0 8 8 0 1
4 0 0 0 0 8 0 1
4 0 0 0 0 8 0 1
6 6 6 6 6 6 6 1
```


## train_2

**input:**
```
0 0 0 0 0 3 0 0 0 2 0 0 0 0 0 0 8 0 0 0 0 0
1 1 1 1 1 3 1 1 1 1 1 1 1 1 1 1 8 1 1 1 1 1
0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
2 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
2 0 0 0 0 3 0 0 0 0 0 0 0 0 0 2 8 0 0 0 0 0
0 0 0 2 0 3 0 0 0 0 0 0 0 0 0 0 8 0 2 0 0 0
0 0 0 0 0 3 0 0 0 2 0 0 0 0 0 0 8 0 0 2 0 0
0 0 0 0 0 3 0 0 0 0 0 0 0 0 2 0 8 0 0 0 0 0
0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
0 0 0 2 0 3 0 2 0 0 0 0 0 0 2 0 8 0 0 0 0 0
0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
0 0 0 0 0 3 2 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
2 2 2 2 2 3 2 2 2 2 2 2 2 2 2 2 8 2 2 2 2 2
0 0 0 0 0 3 0 0 2 0 0 0 0 0 0 0 8 0 0 0 0 0
2 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0
2 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 8 0 0 0 2 0
```


**output:**
```
3 1 1 1 1 1 1 1 1 1 1 8
3 0 0 0 0 0 0 0 0 0 0 8
3 0 0 0 0 0 0 0 0 0 0 8
3 0 0 0 0 0 0 0 0 0 0 8
3 0 0 0 0 0 0 0 0 0 2 8
3 0 0 0 0 0 0 0 0 0 2 8
3 0 0 0 2 0 0 0 0 0 2 8
3 0 0 0 2 0 0 0 0 2 2 8
3 0 0 0 2 0 0 0 0 2 2 8
3 0 0 0 2 0 0 0 0 2 2 8
3 0 0 0 2 0 0 0 0 2 2 8
3 0 2 0 2 0 0 0 0 2 2 8
3 0 2 0 2 0 0 0 0 2 2 8
3 2 2 0 2 0 0 0 0 2 2 8
3 2 2 2 2 2 2 2 2 2 2 8
```


## train_3

**input:**
```
0 0 4 3 0 0 0 4 0 0 0 4 0 0 0
0 0 0 3 0 4 0 0 0 0 0 4 0 0 0
0 0 0 3 0 0 4 0 0 0 0 4 0 0 0
0 0 0 3 0 4 0 0 0 0 0 4 0 0 0
0 0 0 3 0 0 0 0 0 0 4 4 4 0 4
2 2 2 3 2 2 2 2 2 2 2 4 2 2 2
4 0 0 3 4 4 0 4 0 0 0 4 0 0 0
0 0 0 3 0 0 0 0 0 0 0 4 0 0 0
4 0 0 3 0 0 0 0 4 0 4 4 0 0 0
4 0 0 3 0 0 4 0 0 0 4 4 0 0 0
8 8 8 3 8 8 8 8 8 8 8 4 8 8 8
0 0 0 3 0 0 0 0 0 0 4 4 0 0 4
0 0 0 3 4 0 0 4 0 0 0 4 0 0 0
0 0 4 3 0 0 0 0 0 4 0 4 0 0 0
```


**output:**
```
3 2 2 2 2 2 2 2 4
3 4 4 4 4 4 4 4 4
3 0 0 0 0 0 0 0 4
3 0 0 0 0 4 4 4 4
3 0 0 4 4 4 4 4 4
3 8 8 8 8 8 8 8 4
```

Okay, let's analyze the provided examples to understand the transformation.

**Perception of Elements and Task:**

1.  **Input/Output Format:** Both input and output are 2D grids (arrays or matrices) containing single non-negative integers.
2.  **Core Transformation:** The fundamental operation appears to be extracting a specific subgrid from the input grid. The dimensions and content of the output depend on identifying specific "marker" rows and columns within the input.
3.  **Marker Identification:** The input grids contain distinct rows and columns that act as boundaries or markers. These markers are characterized by being predominantly filled with a single, non-zero digit, except potentially at their intersections. There seem to be exactly two marker rows and two marker columns in each input.
4.  **Subgrid Extraction:** The output grid corresponds to the section of the input grid located between these marker rows (inclusive) and marker columns (inclusive).
5.  **Value Propagation (Fill):** After extracting the subgrid, a secondary transformation occurs in some cases (like `train_3`). Zeroes (`0`) within the extracted subgrid are replaced by a specific "fill value" if they are adjacent (horizontally or vertically) to a cell already containing that fill value. This propagation continues iteratively until no more zeroes can be filled.
6.  **Fill Value Determination:** The "fill value" used in the propagation step appears to be the dominant non-zero value found in the *second* marker column (the one with the larger column index).

**YAML Fact Documentation:**

```
yaml
task_description: Extracting a subgrid defined by marker rows/columns and applying value propagation.

elements:
  - object: input_grid
    properties:
      - type: 2D integer array
      - contains: non-negative integers
      - features:
          - marker_row_1: A row predominantly filled with a single non-zero value (v_r1).
          - marker_row_2: A second, distinct row predominantly filled with a single non-zero value (v_r2).
          - marker_col_1: A column predominantly filled with a single non-zero value (v_c1).
          - marker_col_2: A second, distinct column predominantly filled with a single non-zero value (v_c2).
  - object: output_grid
    properties:
      - type: 2D integer array
      - derived_from: input_grid

actions:
  - action: identify_markers
    description: Locate the indices (r1, r2, c1, c2) and dominant values (v_r1, v_r2, v_c1, v_c2) of the two marker rows and two marker columns in the input_grid. Assume r1 < r2 and c1 < c2.
    inputs: [input_grid]
    outputs: [r1, r2, c1, c2, v_c2]
  - action: extract_subgrid
    description: Create a new grid by selecting the portion of the input_grid from row r1 to r2 (inclusive) and column c1 to c2 (inclusive).
    inputs: [input_grid, r1, r2, c1, c2]
    outputs: [intermediate_grid]
  - action: determine_fill_value
    description: Identify the fill value as the dominant non-zero value in the second marker column (v_c2).
    inputs: [v_c2]
    outputs: [fill_value]
  - action: propagate_value
    description: Iteratively replace cells containing '0' in the intermediate_grid with the 'fill_value' if any of their direct orthogonal neighbors (up, down, left, right within the grid bounds) contain the 'fill_value'. Repeat until no more replacements can be made in a full pass.
    inputs: [intermediate_grid, fill_value]
    outputs: [output_grid]

relationships:
  - type: boundary_definition
    source: marker_row_1, marker_row_2, marker_col_1, marker_col_2
    target: intermediate_grid
    details: The indices r1, r2, c1, c2 define the boundaries for extraction.
  - type: content_modification
    source: intermediate_grid, fill_value
    target: output_grid
    details: The content of the intermediate_grid is potentially modified by propagating the fill_value into adjacent zero cells to produce the final output_grid.
  - type: dependency
    details: The output_grid dimensions and content are fully determined by the input_grid and the identified markers/rules.

