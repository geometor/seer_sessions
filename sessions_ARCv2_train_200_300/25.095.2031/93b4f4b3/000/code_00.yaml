task_name: overlay_content_onto_mask
description: Combine two halves of an input grid, using the left half as a mask and the right half as content to fill the mask's empty areas.

grid_properties:
  input_width_relation: twice the output width
  input_height_relation: same as output height
  cell_values: integers

components:
  - id: input_grid
    type: Grid
  - id: output_grid
    type: Grid
  - id: left_mask_grid
    type: Grid
    derivation: Left half of input_grid
    properties:
      - contains a frame defined by a non-zero value (mask_value)
      - contains empty areas defined by zero (fill_target_value: 0)
  - id: right_content_grid
    type: Grid
    derivation: Right half of input_grid
    properties:
      - contains content defined by non-zero values (content_values)
      - contains empty areas defined by zero (background_value: 0)

actions:
  - Split: Divide the input_grid vertically into left_mask_grid and right_content_grid.
  - Initialize: Create the output_grid as a copy of the left_mask_grid.
  - Iterate: Process each cell (row r, column c) of the output_grid.
  - Condition: Check if the value at output_grid[r][c] is equal to fill_target_value (0).
  - Replace: If the condition is true, update output_grid[r][c] with the value from right_content_grid[r][c].
  - Keep: If the condition is false, keep the original value in output_grid[r][c] (the mask_value).

relationships:
  - output_grid dimensions match left_mask_grid dimensions.
  - output_grid combines the structure of left_mask_grid with the content of right_content_grid based on cell values.