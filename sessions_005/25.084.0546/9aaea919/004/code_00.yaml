facts:
  - description: "The input grid is divided into three vertical panels of equal height."
    type: "grid_division"
  - description: "Gray background pixels (value 5) are removed, replaced with white (value 0)."
    type: "pixel_removal"
  - description: "Objects are contiguous regions of the same color."
    type: "object_definition"
  - description: "The smallest object within each panel is identified."
    type: "object_selection"
    condition: "panel must not be empty after gray removal"
  - description: "The color of the smallest object is changed based on its panel."
    type: "color_transformation"
  - description: "Top panel smallest object changes to yellow (value 4)."
    type: "color_rule"
    panel: "top"
    new_color: 4
  - description: "Middle panel smallest object changes to red (value 2)."
    type: "color_rule"
    panel: "middle"
    new_color: 2
  - description: "Bottom panel smallest object changes to green (value 3) if any example grid height mod 3 is 0 or 1, otherwise to black (0)."
    type: "color_rule"
    panel: "bottom"
    new_color: "conditional"
  - description: "If a panel is empty after removing gray, skip color change"
    type: "skip_empty_panel"
