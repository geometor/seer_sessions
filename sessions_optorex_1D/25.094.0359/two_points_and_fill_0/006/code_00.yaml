objects:
  - name: input_sequence
    type: list_of_integers
    description: A sequence containing mostly zeros and multiple occurrences of a single unique positive integer.
  - name: output_sequence
    type: list_of_integers
    description: The transformed sequence, having the same length as the input sequence.
  - name: non_zero_value
    type: integer
    description: The unique positive integer value present in the input sequence. Derived property.
  - name: zero_value
    type: integer
    value: 0
    description: The background value in the sequence.
  - name: value_indices
    type: list_of_integers
    description: A list containing all zero-based indices where the non_zero_value appears in the input_sequence. Derived property.
  - name: start_index
    type: integer
    description: The minimum index present in value_indices. Derived property.
  - name: end_index
    type: integer
    description: The maximum index present in value_indices. Derived property.
  - name: fill_segment
    type: range_of_indices
    description: The continuous range of indices from start_index to end_index (inclusive). Derived property.

actions:
  - name: identify_unique_non_zero_value
    input: input_sequence
    output: non_zero_value
    description: Find the single integer value that is not zero in the input sequence. Assumes exactly one such value exists.
  - name: find_all_indices_of_value
    input: input_sequence, non_zero_value
    output: value_indices
    description: Locate all indices where the non_zero_value appears in the input sequence.
  - name: determine_segment_bounds
    input: value_indices
    output: [start_index, end_index]
    description: Calculate the minimum (start_index) and maximum (end_index) values from the list of value_indices. Requires at least one index.
  - name: fill_segment_in_copy
    input: input_sequence, fill_segment, non_zero_value
    output: output_sequence
    description: Create a copy of the input sequence, then modify the copy by setting all elements within the fill_segment (from start_index to end_index inclusive) to the non_zero_value. If fill_segment cannot be determined (e.g., fewer than two indices), return an unmodified copy.

relationships:
  - type: derivation
    from: input_sequence
    to: non_zero_value
    via: identify_unique_non_zero_value
  - type: derivation
    from: [input_sequence, non_zero_value]
    to: value_indices
    via: find_all_indices_of_value
  - type: derivation
    from: value_indices
    to: [start_index, end_index]
    via: determine_segment_bounds
  - type: definition
    from: fill_segment
    to: [start_index, end_index]
    description: The fill_segment spans from the minimum index to the maximum index where the non_zero_value occurs.
  - type: condition
    for: fill_segment_in_copy
    requirement: The number of elements in value_indices must be 2 or more to perform the fill. Otherwise, the input is copied without modification.
  - type: transformation
    from: input_sequence
    to: output_sequence
    via: fill_segment_in_copy
    description: The output is generated by selectively modifying a copy of the input based on the fill_segment.