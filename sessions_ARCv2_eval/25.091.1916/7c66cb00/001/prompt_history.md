
## train_1

**input:**
```
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 2 2 2 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 2 8 2 1 1 3 3 3 3 3 3 1 1 1 1 1 1 1 1 1 1 1
1 1 2 2 2 1 1 3 2 2 2 2 3 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 3 3 3 3 3 3 1 1 1 1 8 8 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 8 8 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
3 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 3
3 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 3
3 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 3
3 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 3
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
```


**output:**
```
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 4 4 4 4 4 4 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 4 3 3 3 3 4 3 3 3 3 3 3 3 3 3 3 4
4 3 3 3 3 3 3 4 4 4 4 4 4 3 3 3 3 3 3 3 3 3 3 4
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 5 5 5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 5 2 5 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 5
5 2 5 5 5 2 2 2 5 5 5 5 2 2 2 2 2 2 2 2 2 2 2 5
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
3 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 3
3 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 3
3 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 3 3 8 8 8 8 3
3 8 8 3 8 8 8 8 8 8 8 8 8 8 8 8 8 3 3 8 8 8 8 3
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
```


## train_2

**input:**
```
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 2 2 2 2 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 2 4 4 2 8 8 8 2 2 2 2 2 2 2 8 8 8 8 8 8 8 8 8
8 2 4 4 2 8 8 8 2 4 4 2 4 4 2 8 8 8 8 8 8 8 8 8
8 2 2 2 2 8 8 8 2 4 4 2 4 4 2 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 2 4 4 2 4 4 2 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 2 2 2 2 2 2 2 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
6 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6
6 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6
6 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6
6 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6
6 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6
6 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
```


**output:**
```
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4
4 2 2 2 2 2 2 2 4 4 4 4 4 4 4 2 2 2 2 2 2 2 2 4
4 4 4 4 4 2 2 2 4 2 2 4 2 2 4 2 2 2 2 2 2 2 2 4
4 4 2 2 4 2 2 2 4 2 2 4 2 2 4 2 2 2 2 2 2 2 2 4
4 4 2 2 4 2 2 2 4 2 2 4 2 2 4 2 2 2 2 2 2 2 2 4
4 4 4 4 4 2 2 2 4 4 4 4 4 4 4 2 2 2 2 2 2 2 2 4
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
6 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6
6 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6
6 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6
6 4 4 4 4 4 4 4 4 6 6 4 6 6 4 4 4 4 4 4 4 4 4 6
6 4 6 6 4 4 4 4 4 6 6 4 6 6 4 4 4 4 4 4 4 4 4 6
6 4 6 6 4 4 4 4 4 6 6 4 6 6 4 4 4 4 4 4 4 4 4 6
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
```


## train_3

**input:**
```
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 8 8 8 8 8 8 8 4 4 4 4
4 4 4 3 3 4 4 4 4 4 4 4 4 8 8 8 8 8 8 8 4 4 4 4
4 4 4 3 3 4 4 4 4 4 4 4 4 8 8 4 4 4 8 8 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 6
6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 6
6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 6
6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 6
6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 6
```


**output:**
```
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 3 3 3 3 1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 1 1 3 1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 1
1 3 3 1 1 3 3 1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 6
6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 6
6 8 8 8 8 8 8 8 8 8 8 8 8 6 6 6 6 6 6 6 8 8 8 6
6 8 8 8 8 8 8 8 8 8 8 8 8 6 6 6 6 6 6 6 8 8 8 6
6 8 8 8 8 8 8 8 8 8 8 8 8 6 6 8 8 8 6 6 8 8 8 6
```

**Perception**

1.  **Input/Output Structure:** Both input and output grids have the same dimensions. The transformation involves modifying specific regions of the input grid while removing others.
2.  **Background:** Each example has a dominant background color (white=1 in ex1, azure=8 in ex2, yellow=4 in ex3) which remains largely the same in the output, except where objects are removed or modified.
3.  **Framed Rectangles:** The most salient features are large rectangles defined by a single-pixel-thick frame of one color (FrameColor) surrounding a solid rectangular area of another color (FillColor). These structures persist in the output, but their FillColor area is modified.
4.  **Small Objects:** The input grids also contain smaller, distinct objects located separately from the large framed rectangles, often near the top. These small objects are *removed* in the output, replaced by the background color.
5.  **Modification Rule:** The core transformation happens within the FillColor area of the large framed rectangles. A specific letter-like shape ('H', 'E', or 'L') is "drawn" inside this area using the FrameColor.
6.  **Shape Determination:** The specific letter drawn ('H', 'E', 'L') appears to be determined by a relationship between the large framed rectangle and one of the small objects that were removed. Specifically, the small object whose primary color matches the *fill color* of the large rectangle seems to dictate which letter is drawn.
7.  **Shape Placement:** The letters ('H', 'E', 'L') are consistently 5 pixels high and 3 pixels wide. They are drawn starting 1 pixel down and 1 pixel right from the top-left corner of the FillColor area.
8.  **Special Case ('L'):** In `train_1`, when the letter 'L' is drawn (in the Azure fill area), a second, horizontally mirrored 'L' is drawn immediately to its right, separated by a 1-pixel gap. This seems linked to the specific small object (the Azure square) that corresponded to this rectangle.

**Facts**


```yaml
# Define the standard 5x3 pixel patterns for the letters
# (Relative coordinates (row, col) from top-left origin)
LetterPatterns:
  H: [[0,0], [1,0], [2,0], [3,0], [4,0], [0,2], [1,2], [2,2], [3,2], [4,2], [2,1]]
  E: [[0,0], [1,0], [2,0], [3,0], [4,0], [0,1], [0,2], [2,1], [2,2], [4,1], [4,2]]
  L: [[0,0], [1,0], [2,0], [3,0], [4,0], [4,1], [4,2]]
  MirroredL: [[0,2], [1,2], [2,2], [3,2], [4,2], [4,1], [4,0]]

# Define mapping from identified small object types to letters
# (Based on analysis of the three examples)
SmallObjectToLetterMap:
  - ObjectType: "Red frame, Azure center" # Example 1, Object 1
    Letter: E
  - ObjectType: "Green frame, Red center" # Example 1, Object 2
    Letter: H
  - ObjectType: "Solid Azure square" # Example 1, Object 3
    Letter: L
    Mirrored: True # Special flag for this object type
  - ObjectType: "Red frame, Yellow center/pattern" # Example 2, Objects 1 & 2 (assume they map uniquely despite similarity)
    Letter: H # Tentative assignment for first matching rect
    Letter: E # Tentative assignment for second matching rect
  - ObjectType: "Green cross" # Example 3, Object 1
    Letter: L
  - ObjectType: "Azure complex shape" # Example 3, Object 2
    Letter: L

Elements:
  - Type: Grid
    Properties:
      - BackgroundColor: The most frequent color not part of large framed rectangles or small objects.
  - Type: LargeFramedRectangle
    Properties:
      - FrameColor: Color of the 1-pixel border.
      - FillColor: Color of the solid inner area.
      - Location: Bounding box coordinates.
  - Type: SmallObject
    Properties:
      - ObjectColor: The primary or outer color.
      - InnerDetails: Pattern or color(s) inside the object.
      - Location: Bounding box coordinates.
      - ObjectType: A classification based on shape/color pattern (e.g., "Red frame, Azure center", "Green cross").

Actions:
  - Action: Identify
    Target: BackgroundColor, LargeFramedRectangles, SmallObjects
  - Action: Classify
    Target: SmallObjects (assign ObjectType)
  - Action: Create
    Target: Output grid (filled with BackgroundColor)
  - Action: Copy
    Source: FrameColor pixels of LargeFramedRectangles
    Destination: Output grid
  - Action: Fill
    Target: Inner area of frames in Output grid
    Color: FillColor of the corresponding LargeFramedRectangle
  - Action: Match
    Source: FillColor of each LargeFramedRectangle
    Target: ObjectColor of SmallObjects
    Result: A pairing between each LargeFramedRectangle and one SmallObject.
  - Action: SelectPattern
    BasedOn: The ObjectType of the matched SmallObject (using SmallObjectToLetterMap)
    Result: Letter pattern (H, E, L) and Mirrored flag.
  - Action: DrawPattern
    Target: FillColor area within the frame on the Output grid
    Pattern: Selected letter pattern
    Color: FrameColor of the LargeFramedRectangle
    Offset: (row + 1, col + 1) from the top-left of the FillColor area.
  - Action: DrawMirroredPattern (Conditional)
    Condition: Mirrored flag is True for the selected pattern.
    Target: FillColor area within the frame on the Output grid
    Pattern: Mirrored version of the selected letter pattern
    Color: FrameColor of the LargeFramedRectangle
    Offset: (row + 1, col + 1 + pattern_width + 1) from the top-left of the FillColor area.

Relationships:
  - Each LargeFramedRectangle in the input corresponds to a modified region in the output.
  - Each SmallObject in the input is removed in the output.
  - Each LargeFramedRectangle is implicitly linked to one SmallObject via matching the rectangle's FillColor to the object's ObjectColor.
  - The type of the linked SmallObject determines the letter pattern drawn within the LargeFramedRectangle's fill area.
```


**Natural Language Program**

1.  Identify the background color of the input grid (the color filling most of the space, excluding distinct objects).
2.  Identify all large rectangular regions that consist of a solid fill color completely enclosed by a 1-pixel thick frame of a different color. Record their frame color, fill color, and the coordinates of the fill area.
3.  Identify all other distinct, smaller objects that are not part of the background or the large framed rectangles. Classify each small object based on its shape and color pattern (e.g., "Red with Azure center", "Green cross", "Solid Azure square").
4.  Create a new output grid of the same dimensions as the input grid, completely filled with the background color identified in step 1.
5.  For each large framed rectangle identified in step 2:
    a.  Find the small object (identified in step 3) whose primary/outer color matches the fill color of the current large framed rectangle.
    b.  Determine the letter shape ('H', 'E', or 'L') associated with the *type* of the matched small object (using a predefined mapping, e.g., "Green cross" maps to 'L', "Red with Azure center" maps to 'E'). Note if this object type requires a mirrored duplicate (like the "Solid Azure square").
    c.  Copy the frame pixels (using the frame color) of the large framed rectangle onto the output grid at the same location.
    d.  Fill the area inside the copied frame on the output grid with the original fill color of the large framed rectangle.
    e.  Define the 5x3 pixel pattern for the determined letter ('H', 'E', or 'L').
    f.  Calculate the top-left starting position for
