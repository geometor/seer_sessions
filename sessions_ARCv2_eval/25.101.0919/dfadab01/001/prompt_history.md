
## train_1

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 6 6 0 0 0 0 0 2 0 0 0 0 2 0 0 0 0 0 0
0 6 6 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 6 6 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 6 6 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 2 0 0 0 0 2 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 3 0 0 0 0 0 5 0 0 0 0 5 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 3 0 0 0 0 0 3 0 0 0 0 3 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
6 6 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
6 6 0 0 0 0 0 0 4 4 4 4 0 4 4 4 4 0 0 0
0 0 6 6 0 0 0 0 4 0 0 4 0 4 0 0 4 0 0 0
0 0 6 6 0 0 0 0 4 0 0 4 0 4 0 0 4 0 0 0
0 0 0 0 0 0 0 0 4 4 4 4 0 4 4 4 4 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 4 4 4 4 0 4 4 4 4 0 0 0
0 0 0 0 0 0 0 0 4 0 0 4 0 4 0 0 4 0 0 0
0 0 0 0 0 0 0 0 4 0 0 4 0 4 0 0 4 0 0 0
0 0 0 0 0 0 0 0 4 4 4 4 0 4 4 4 4 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 1 1 0 0 0 6 6 0 0 0 6 6 0 0 0 0 0
0 0 1 0 0 1 0 0 6 6 0 0 0 6 6 0 0 0 0 0
0 0 1 0 0 1 0 0 0 0 6 6 0 0 0 6 6 0 0 0
0 0 0 1 1 0 0 0 0 0 6 6 0 0 0 6 6 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 1 1 0 0 0 0 1 1 0 0 0 1 1 0 0 0 0
0 0 1 0 0 1 0 0 1 0 0 1 0 1 0 0 1 0 0 0
0 0 1 0 0 1 0 0 1 0 0 1 0 1 0 0 1 0 0 0
0 0 0 1 1 0 0 0 0 1 1 0 0 0 1 1 0 0 0 0
```


## train_2

**input:**
```
0 0 0 0 0 0 0 0 0 0
0 3 0 0 0 2 0 0 0 0
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
0 2 0 0 0 3 1 1 0 0
0 0 0 0 0 1 0 0 1 0
0 0 0 0 0 1 0 0 1 0
0 0 0 0 0 0 1 1 0 0
0 0 0 0 0 0 0 0 0 3
```


**output:**
```
0 0 0 0 0 0 0 0 0 0
0 0 1 1 0 4 4 4 4 0
0 1 0 0 1 4 0 0 4 0
0 1 0 0 1 4 0 0 4 0
0 0 1 1 0 4 4 4 4 0
0 4 4 4 4 0 1 1 0 0
0 4 0 0 4 1 0 0 1 0
0 4 0 0 4 1 0 0 1 0
0 4 4 4 4 0 1 1 0 0
0 0 0 0 0 0 0 0 0 0
```


## train_3

**input:**
```
4 4 4 4 0 0 2 0 0 0
4 0 0 4 0 0 0 0 0 0
4 0 0 4 0 0 0 0 0 0
4 4 4 4 0 0 0 0 0 0
0 0 0 0 2 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
2 0 0 0 0 0 2 0 0 0
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 4 4 4 4
0 0 0 0 0 0 4 0 0 4
0 0 0 0 0 0 4 0 0 4
0 0 0 0 0 0 4 4 4 4
0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0
4 4 4 4 0 0 4 4 4 4
4 0 0 4 0 0 4 0 0 4
4 0 0 4 0 0 4 0 0 4
4 4 4 4 0 0 4 4 4 4
```

## Perception of Task Elements

The task involves transforming an input grid containing various colored shapes and pixels into an output grid. The transformation rule appears to depend on the type, color, and potentially the context (like neighbors or count) of the input objects.

**Key Observations:**

1.  **Input Objects:** The inputs contain single pixels (Red, Green, Gray), 2x2 solid squares (Magenta), L-shapes (Blue), and 4x4 hollow squares (Yellow). The background is white (0).
2.  **Output Objects:** The outputs primarily consist of 4x4 hollow squares (Yellow, Blue, Gray, Magenta) and sometimes copied input shapes (Blue L-shape).
3.  **Transformation Rule:** Certain input objects trigger the creation of a 4x4 hollow square in the output.
    *   Single Red pixels map to Yellow squares.
    *   Single Green pixels map to Blue squares.
    *   Single Gray pixels map to Gray squares.
    *   Magenta 2x2 squares map to Magenta squares.
4.  **Location Mapping:** The top-left corner of the input object (or the pixel's location itself for single pixels) determines the top-left corner of the output 4x4 hollow square.
5.  **Special Cases:**
    *   Blue L-shapes seem to be copied directly from input to output.
    *   Yellow 4x4 hollow squares in the input seem to be deleted (not present in the output).
6.  **Exceptions:** Not all single pixels that fit the color rules (Green, Gray) are transformed. Specific instances in the examples are ignored/deleted instead:
    *   Train 1: Gray pixel at (5, 5) and Green pixel at (16, 2).
    *   Train 2: Green pixel at (9, 9).
    The exact rule for these exceptions is not immediately clear but might relate to isolation, potential overlaps with other generated squares, or being the first/last instance of that color.
7.  **Overlaps:** The generated 4x4 squares can overlap in the output grid. The examples suggest later drawn squares overwrite earlier ones.

## YAML Documentation of Facts


```yaml
elements:
  - object: pixel
    properties:
      - color: red (2), green (3), gray (5), blue (1), yellow (4), magenta (6)
      - size: 1x1
  - object: square_2x2
    properties:
      - color: magenta (6)
      - fill: solid
      - size: 2x2
  - object: L_shape
    properties:
      - color: blue (1)
      - size: variable (e.g., 4x4 with corner missing in train_2)
      - fill: solid
  - object: hollow_square_4x4
    properties:
      - color: yellow (4) # Found in input train_3
      - fill: hollow
      - size: 4x4

actions:
  - action: transform_to_hollow_square
    description: Replaces specific input objects with a 4x4 hollow square anchored at the input object's top-left corner.
    applies_to:
      - object: pixel
        color: red (2)
        output_color: yellow (4)
      - object: pixel
        color: green (3)
        output_color: blue (1)
        exceptions: # These specific pixels are deleted instead
          - train_1, location: (16, 2)
          - train_2, location: (9, 9)
      - object: pixel
        color: gray (5)
        output_color: gray (5)
        exceptions: # This specific pixel is deleted instead
          - train_1, location: (5, 5)
      - object: square_2x2
        color: magenta (6)
        output_color: magenta (6)
    output_object:
      - object: hollow_square_4x4
        size: 4x4
        anchor: top-left corner of input object
        color: determined by input color mapping

  - action: copy
    description: Copies the object directly to the output grid.
    applies_to:
      - object: L_shape
        color: blue (1) # As seen in train_2
    result: Identical object shape and color in the output at the same coordinates.

  - action: delete
    description: Removes the object from the grid (effectively replacing it with the background color).
    applies_to:
      - object: hollow_square_4x4
        color: yellow (4) # As seen in input train_3
      - object: pixel # Specific exceptions noted in transform_to_hollow_square
        color: green (3), gray (5)
        condition: Matches specific locations identified in training examples.
    result: Object pixels are replaced by background color (white, 0).

relationships:
  - relationship: position_mapping
    description: The top-left coordinate of an input object serves as the anchor point (top-left coordinate) for the corresponding output 4x4 hollow square.
  - relationship: overlap_resolution
    description: When multiple output shapes (squares or copied objects) occupy the same pixel, the one processed/drawn later takes precedence, overwriting the previous pixel value.
```


## Natural Language Program

1.  Initialize a new output grid with the same dimensions as the input grid, filled entirely with the background color (white, 0).
2.  Identify all distinct, contiguous non-white objects in the input grid. Classify them by shape and color (e.g., single Red pixel, Magenta 2x2 square, Blue L-shape, Yellow hollow square).
3.  Iterate through all identified input objects:
    a.  If the object is a single Red(2) pixel at location (r, c): Draw a 4x4 hollow square using Yellow(4) color on the output grid, with its top-left corner at (r, c).
    b.  If the object is a single Green(3) pixel at location (r, c): Check if it's one of the known exceptions (like (16, 2) in train_1 or (9, 9) in train_2). If it is an exception, do nothing (it remains background color). Otherwise, draw a 4x4 hollow square using Blue(1) color on the output grid, with its top-left corner at (r, c).
    c.  If the object is a single Gray(5) pixel at location (r, c): Check if it's the known exception ((5, 5) in train_1). If it is, do nothing. Otherwise, draw a 4x4 hollow square using Gray(5) color on the output grid, with its top-left corner at (r, c).
    d.  If the object is a Magenta(6) 2x2 square with its top-left corner at (r, c): Draw a 4x4 hollow square using Magenta(6) color on the output grid, with its top-left corner at (r, c).
    e.  If the object is a Blue(1) L-shape (matching the pattern in train_2): Copy all pixels of this shape directly to the output grid at their original coordinates.
    f.  If the object is a Yellow(4) 4x4 hollow square: Do nothing (it is effectively deleted).
4.  The process of drawing squares and copying shapes inherently handles overlaps, with later operations overwriting any pixels previously set at those coordinates in the output grid.
5.  Return the final output grid.
