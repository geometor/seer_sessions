
## train_1

**input:**
```
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 1 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 1 2 1 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 8 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 8 8 8 4 4 4
4 4 4 4 1 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 1 2 1 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 2 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 1 1 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 1 1 4 4 4 4 4 4
4 4 4 4 4 4 4 4 1 1 2 2 1 1 4 4 4 4
4 4 4 4 4 4 4 4 1 1 2 2 1 1 4 4 4 4
4 4 4 4 4 4 4 4 4 4 2 2 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 2 2 4 4 4 4 4 4
4 4 4 4 4 4 4 4 3 3 3 3 3 3 4 4 4 4
4 4 4 4 4 4 4 4 3 3 3 3 3 3 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
```


**output:**
```
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 1 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 1 2 1 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 2 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 3 3 3 4 4 4
4 4 4 4 1 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 1 2 1 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 8 4 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 8 8 8 4 4 4 4 4 4 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 1 1 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 1 1 4 4 4 4 4 4
4 4 4 4 4 4 4 4 1 1 2 2 1 1 4 4 4 4
4 4 4 4 4 4 4 4 1 1 2 2 1 1 4 4 4 4
4 4 4 4 4 4 4 4 4 4 8 8 4 4 4 4 4 4
4 4 4 4 4 4 4 4 4 4 8 8 4 4 4 4 4 4
4 4 4 4 4 4 4 4 8 8 8 8 8 8 4 4 4 4
4 4 4 4 4 4 4 4 8 8 8 8 8 8 4 4 4 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
```


## train_2

**input:**
```
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 1 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 1 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 4 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 1 1 3 3 1 1 3 3 3 3
3 3 3 3 3 3 3 3 1 1 3 3 1 1 3 3 3 3
3 3 3 3 3 3 3 3 3 3 2 2 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 2 2 3 3 3 3 3 3
3 3 3 6 3 3 3 3 1 1 3 3 1 1 3 3 3 3
3 3 1 3 1 3 3 3 1 1 3 3 1 1 3 3 3 3
3 3 3 2 3 3 3 3 3 3 4 4 3 3 3 3 3 3
3 3 1 3 1 3 3 3 3 3 4 4 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
```


**output:**
```
3 3 6 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 1 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 1 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 6 6 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 6 6 3 3 3 3 3 3
3 3 3 3 3 3 3 3 1 1 3 3 1 1 3 3 3 3
3 3 3 3 3 3 3 3 1 1 3 3 1 1 3 3 3 3
3 3 3 3 3 3 3 3 3 3 2 2 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 2 2 3 3 3 3 3 3
3 3 3 3 3 3 3 3 1 1 3 3 1 1 3 3 3 3
3 3 1 3 1 3 3 3 1 1 3 3 1 1 3 3 3 3
3 3 3 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 1 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 4 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
```

**Perception**

1.  **Grid Structure:** Both input and output grids in both examples maintain the same dimensions.
2.  **Background Color:** The predominant color acts as a background (yellow-4 in train\_1, green-3 in train\_2). The background color itself can be subject to change (as seen implicitly in train\_1 where yellow remains yellow, and explicitly in train\_2 where green remains green).
3.  **Objects:** There are distinct shapes or patterns formed by non-background colors. These appear as objects within the grid.
4.  **Color Transformation:** The primary change between input and output grids appears to be a specific color substitution rule applied globally.
5.  **Train 1 Analysis:** The input contains yellow (4), blue (1), red (2), green (3), and azure (8). The output contains the same colors. No magenta (6) is present. Yellow pixels remain yellow. Other colors also seem to remain, although their positions change based on a complex vertical pattern relative to red pixels (this initial interpretation turned out to be incorrect when considering train\_2).
6.  **Train 2 Analysis:** The input contains green (3), blue (1), red (2), yellow (4), and magenta (6). The output contains green (3), blue (1), red (2), yellow (4), and magenta (6). Critically, input yellow (4) pixels become magenta (6) in the output, and the input magenta (6) pixel becomes yellow (4). Green (3), blue (1), and red (2) pixels remain unchanged.
7.  **Combined Rule:** Comparing both examples reveals a simple, consistent rule: yellow (4) and magenta (6) are swapped. All other colors remain unchanged. The complex pattern observed in train\_1 alone was likely a coincidental feature of that specific example and not the core rule. The rule applies pixel-wise across the entire grid.

**Facts**


```yaml
task_context: Global pixel color substitution based on a fixed swap rule.
elements:
  - element: grid
    properties:
      - property: dimensions
        value: preserved between input and output
  - element: pixels
    properties:
      - property: color
        values: [white(0), blue(1), red(2), green(3), yellow(4), gray(5), magenta(6), orange(7), azure(8), maroon(9)]
actions:
  - action: color_swap
    conditions:
      - if_color: yellow(4)
        then_change_to: magenta(6)
      - if_color: magenta(6)
        then_change_to: yellow(4)
    scope: applied_to_each_pixel_independently
    unaffected_colors: all colors other than yellow(4) and magenta(6)
relationships:
  - relationship: input_output_pixel_mapping
    description: Each output pixel corresponds directly to the input pixel at the same coordinate, potentially with its color changed according to the swap rule.
```


**Natural Language Program**

1.  Initialize the output grid as an identical copy of the input grid.
2.  Examine every pixel in the input grid, one by one.
3.  If a pixel's color is yellow (4), change the color of the pixel at the same position in the output grid to magenta (6).
4.  If a pixel's color is magenta (6), change the color of the pixel at the same position in the output grid to yellow (4).
5.  If a pixel's color is neither yellow (4) nor magenta (6), leave the color of the pixel at the same position in the output grid unchanged (it retains its original color from the input).
6.  The final state of the output grid represents the result of the transformation.
