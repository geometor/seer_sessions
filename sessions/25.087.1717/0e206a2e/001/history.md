
## train_1

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 2 0 0 0 0 0 0 0 0 0 0
0 0 0 4 3 3 0 0 0 0 0 0 0 0 0
0 0 0 0 3 0 0 0 0 0 0 0 0 0 0
0 0 0 0 3 0 0 0 0 0 0 0 0 0 0
0 0 0 0 3 0 0 0 0 0 0 0 0 0 0
0 0 0 3 1 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 4 0
0 0 0 0 0 0 0 0 0 1 0 0 0 0 2
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 3 0 0 0 4 0
0 0 0 0 0 0 0 0 0 1 3 3 3 3 2
0 0 0 0 0 0 0 0 0 3 0 0 0 3 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


## train_2

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 8 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 3 8 1 0 0 0 0 0 0 0 0 0 0 4 0 0
0 0 8 4 8 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 3 0 0 0 1
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 8 0 8 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 8 8 4 0 0 0 0 0 0 0 0
0 0 1 0 0 0 0 8 0 8 0 0 0 0 0 0 0 0
0 0 0 4 0 0 0 1 0 0 0 0 0 0 0 0 0 0
0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 8 4 8 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 8 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 3 8 8 8 1
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 1 8 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 8 8 4 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 3 8 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


## train_3

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0
0 0 0 0 0 8 0 0 0 8 0 0 0 0
0 0 0 0 0 1 8 8 8 2 8 0 0 0
0 0 0 0 0 0 0 0 0 8 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 1 0 0 0 2 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 4 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 8 0 0 0 0 0 0 0 0
0 1 8 8 8 2 8 0 0 0 0 0 0 0
0 8 0 0 0 8 0 0 0 0 0 0 0 0
0 0 0 0 0 4 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
```

*   **Perception:** The task involves identifying specific objects and relationships between colored pixels (Red, Blue, Yellow, and a 'Pattern Color'). A dominant object determines a color and potentially other properties used to modify arrangements of Red, Blue, and Yellow pixels elsewhere in the grid. The dominant object is then removed. Specifically, pairs of Red and Blue pixels, if not associated with the dominant object, are connected by a line whose color matches the dominant object's color. The line segment typically starts and ends one step away from the Red/Blue pair along the cardinal axis connecting them. Nearby Yellow pixels (also not associated with the dominant object) are repositioned relative to the end points of the newly drawn lines.

*   **YAML Facts:**
    
```yaml
    task_elements:
      - Input Grid: 2D array of pixel colors (0-9)
      - Output Grid: 2D array of pixel colors (0-9)
      - Pixels: Represent colors (0=white, 1=blue, 2=red, 3=green, 4=yellow, 8=azure)
      - Objects: Contiguous areas of the same non-white color.

    object_identification:
      - Pattern Object: The largest contiguous object composed of a single color, excluding objects made entirely of red (2), blue (1), or yellow (4).
      - Target Pixels: Individual pixels of red (2), blue (1), and yellow (4).
      - Association: Target Pixels are considered 'associated' with the Pattern Object if they are part of it or directly adjacent (cardinally or diagonally) to it.

    relationships_and_actions:
      - Identify Pattern Object: Find the largest object (by pixel count) meeting the criteria. Note its color (Line Color).
      - Identify Target Pairs: Find pairs of (Red, Blue) pixels where neither pixel is associated with the Pattern Object.
      - Identify Target Yellows: Find Yellow pixels not associated with the Pattern Object.
      - Line Drawing:
        - For each valid (Red, Blue) pair, draw a line segment connecting them.
        - Color: Use the Line Color from the Pattern Object.
        - Path: The line follows the cardinal axis (horizontal or vertical) between the Red and Blue pixels.
        - Segment: The line starts one pixel away from the Blue (towards Red) and ends one pixel away from the Red (towards Blue).
      - Yellow Repositioning:
        - For each valid Yellow pixel, find the closest pixel within any valid (Red, Blue) pair.
        - Proximity Check: If the distance (Euclidean) is below a threshold (e.g., <= 5).
        - Attachment: Determine if the Yellow is closer to the Red or Blue end of the pair.
        - Placement Rule: Find the corresponding end-pixel of the drawn line segment. Calculate the Yellow's original column offset from its closest Red/Blue partner. The new Yellow position has this column offset relative to the line segment's end-pixel and shares the same row as the line segment's end-pixel.
      - Object Removal: The Pattern Object is removed from the grid (pixels turned to white).
      - Preservation: Red, Blue, and Yellow pixels not associated with the Pattern Object and not involved in the Yellow repositioning logic are preserved in their original locations.

    output_construction:
      - Start with a white grid of the same dimensions as the input.
      - Copy preserved Target Pixels.
      - Draw the calculated line segments.
      - Place the repositioned Yellow pixels.
    ```


*   **Natural Language Program:**
    1.  Find the largest contiguous object (`Pattern Object`) that is not entirely composed of red (2), blue (1), or yellow (4) pixels. Record its color (`Line Color`).
    2.  Identify all red (2), blue (1), and yellow (4) pixels. Determine which of these are associated with (part of or adjacent to) the `Pattern Object`.
    3.  Find all pairs of (Red pixel, Blue pixel) where neither pixel in the pair is associated with the `Pattern Object`.
    4.  Initialize the output grid as a copy of the input grid, but replace all pixels belonging to the `Pattern Object` with white (0).
    5.  For each valid (Red, Blue) pair identified in step 3:
        a.  Determine the coordinates for the line segment to be drawn using the `Line Color`. The line should connect the Red and Blue pixels along the primary cardinal axis separating them.
        b.  The line segment starts one pixel away from the Blue pixel (in the direction of the Red pixel) and ends one pixel away from the Red pixel (in the direction of the Blue pixel).
        c.  Draw this line segment onto the output grid using the `Line Color`.
    6.  Identify all Yellow pixels not associated with the `Pattern Object`.
    7.  For each such Yellow pixel:
        a.  Find the closest Red or Blue pixel that is part of a valid pair (from step 3).
        b.  Calculate the distance to this closest Red/Blue pixel.
        c.  If the distance is less than or equal to 5:
            i.  Determine which endpoint (Red or Blue) the Yellow pixel is closest to.
            ii. Find the corresponding end-pixel of the line segment drawn for that pair (the pixel adjacent to the closest Red/Blue endpoint).
            iii.Calculate the Yellow pixel's original column offset relative to its closest Red/Blue partner pixel.
            iv. Erase the original Yellow pixel from the output grid (set to white 0).
            v.  Place the Yellow pixel in the output grid at the location defined by: the column of the line segment's end-pixel plus the calculated column offset, and the row of the line segment's end-pixel.
    8.  Ensure all pixels associated with the original `Pattern Object` are white (0) in the final output grid. Ensure the original Red/Blue pixels forming the pairs (from step 3) and the original Yellow pixels repositioned (in step 7c) are also white (0) unless overwritten by a line segment or a repositioned Yellow. Preserve all other original pixels not part of the pattern object or the red/blue/yellow modification process.
