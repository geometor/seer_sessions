
## train_1

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 1 8 1 0 0 0 0 0 0 0 0 0 0
0 1 1 8 0 1 1 1 0 0 1 8 0 0
0 0 0 0 0 1 8 1 0 0 1 1 0 0
0 0 0 0 0 1 1 8 0 0 0 0 0 0
0 0 0 0 0 8 1 1 0 0 0 1 1 1
0 0 0 0 0 0 0 0 0 0 0 1 8 1
0 1 1 8 0 0 0 0 0 0 0 1 1 1
0 8 1 1 0 0 0 0 0 0 0 0 0 0
0 1 1 1 0 0 0 1 1 1 0 0 0 0
0 0 0 0 0 0 0 1 1 1 0 0 0 0
0 0 0 0 0 0 0 8 1 1 0 0 0 0
0 0 0 0 0 0 0 1 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 1 8 0 0
0 0 0 0 0 0 0 0 0 0 1 1 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 1 1 1
0 0 0 0 0 0 0 0 0 0 0 1 8 1
0 0 0 0 0 0 0 0 0 0 0 1 1 1
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 1 0 0 0 0
0 0 0 0 0 0 0 1 1 1 0 0 0 0
0 0 0 0 0 0 0 8 1 1 0 0 0 0
0 0 0 0 0 0 0 1 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


## train_2

**input:**
```
0 0 0 0 0 1 8 1 0 0 0 1 1 0
0 0 0 0 0 1 1 1 0 0 0 1 1 0
1 1 1 1 0 1 1 1 0 0 0 1 1 0
1 8 1 1 0 0 0 0 0 0 0 0 0 0
1 1 1 1 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 1 1 8 1 0
0 0 0 0 0 0 0 0 0 1 8 1 1 0
0 0 0 1 1 1 1 0 0 1 1 1 8 0
0 0 0 1 1 8 1 0 0 0 0 0 0 0
0 0 0 1 8 1 1 0 0 0 0 0 0 0
0 0 0 1 1 1 1 0 0 0 1 8 1 1
0 0 0 0 0 0 0 0 0 0 1 1 1 8
0 0 0 0 0 0 0 0 0 0 1 8 8 1
0 0 0 0 0 0 0 0 0 0 1 1 1 1
```


**output:**
```
0 0 0 0 0 1 8 1 0 0 0 1 1 0
0 0 0 0 0 1 1 1 0 0 0 1 1 0
1 1 1 1 0 1 1 1 0 0 0 1 1 0
1 8 1 1 0 0 0 0 0 0 0 0 0 0
1 1 1 1 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


## train_3

**input:**
```
0 0 0 0 0 1 1 1 1 0 0 8 1 0 0
1 1 1 1 0 8 1 1 8 0 0 1 8 0 0
1 8 1 1 0 1 1 1 1 0 0 0 0 0 0
1 1 1 1 0 1 1 8 1 0 0 1 1 1 1
0 0 0 0 0 0 0 0 0 0 0 1 8 1 1
0 0 0 0 0 0 0 0 0 0 0 1 1 1 1
0 0 1 1 8 1 1 0 0 0 0 0 0 0 0
0 0 1 1 1 8 1 0 0 0 0 0 0 0 0
0 0 1 8 1 1 1 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 1 1 8 0 0 0
0 0 1 1 1 1 0 0 0 1 8 1 0 0 0
0 0 1 1 1 1 0 0 0 1 1 1 0 0 0
0 0 1 1 1 1 0 0 0 8 1 8 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
1 1 1 1 0 0 0 0 0 0 0 0 0 0 0
1 8 1 1 0 0 0 0 0 0 0 0 0 0 0
1 1 1 1 0 0 0 0 0 0 0 1 1 1 1
0 0 0 0 0 0 0 0 0 0 0 1 8 1 1
0 0 0 0 0 0 0 0 0 0 0 1 1 1 1
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 1 1 1 1 0 0 0 0 0 0 0 0 0
0 0 1 1 1 1 0 0 0 0 0 0 0 0 0
0 0 1 1 1 1 0 0 0 0 0 0 0 0 0
```

*   **Perception:** The task involves filtering objects from an input grid based on their composition. The input grid contains a white background (0) and several distinct objects composed of blue (1) and azure (8) pixels. The output grid retains some of these objects while others are removed (replaced with the white background). The key seems to be the number of azure and blue pixels within each object.

*   **Analysis:**
    *   Objects are defined as connected components (including diagonals) of non-white pixels (blue 1s and azure 8s).
    *   Each object is analyzed based on the count of its constituent azure (8) and blue (1) pixels.
    *   A filtering rule is applied: objects with more than one azure pixel are always removed. Objects with exactly one azure pixel are kept only if they also contain more than two blue pixels. Objects with zero azure pixels are always kept.

*   **Facts:**
    
```yaml
    Task: Object Filtering based on Color Composition

    Input: Grid with white background (0) and objects made of blue (1) and azure (8) pixels.

    Output: Grid containing only a subset of the input objects.

    Objects:
      - Definition: Connected components (including diagonal adjacency) of non-white pixels (1s and 8s).
      - Properties:
        - azure_count: Number of azure (8) pixels in the object.
        - blue_count: Number of blue (1) pixels in the object.

    Transformation:
      - Action: Filter objects based on their properties.
      - Rule: An object is kept if it satisfies either of the following conditions:
        1. azure_count == 0
        2. (azure_count == 1) AND (blue_count > 2)
      - Otherwise: The object is removed (its pixels are replaced with white (0) in the output).
      - Background: White (0) pixels remain unchanged.

    Examples:
      - Example 1:
        - Kept objects had (azure=1, blue=3), (azure=1, blue=8), (azure=1, blue=11). All satisfy condition 2.
        - Removed objects had (azure=2, blue=4), (azure=2, blue=7), (azure=1, blue=2), (azure=2, blue=7). The object with (azure=1, blue=2) was removed because blue_count was not > 2. Others were removed for having azure_count > 1.
      - Example 2:
        - Kept objects had (azure=1, blue=8), (azure=0, blue=6), (azure=1, blue=11). Satisfy condition 2 or condition 1.
        - Removed objects had azure counts of 3, 2, 4. All > 1.
      - Example 3:
        - Kept objects had (azure=1, blue=11), (azure=1, blue=11), (azure=0, blue=12). Satisfy condition 2 or condition 1.
        - Removed objects had azure counts of 2, 2, 3, 4. All > 1.
    ```


*   **Natural Language Program:**
    1.  Initialize the output grid as a copy of the input grid, but with all non-white pixels temporarily changed to a placeholder value (e.g., -1) to mark potential object locations.
    2.  Iterate through each cell of the input grid.
    3.  If a cell contains a non-white pixel (1 or 8) and hasn't been visited yet (check the placeholder grid):
        a.  Identify the complete connected component (object) this pixel belongs to, using 8-way connectivity (including diagonals). Keep track of all pixels belonging to this object.
        b.  Count the number of azure (8) pixels (`azure_count`) and blue (1) pixels (`blue_count`) within this identified object.
        c.  Mark all pixels of this object as visited in the placeholder grid.
        d.  Check if the object meets the keep criteria: `(azure_count == 0)` OR `(azure_count == 1 AND blue_count > 2)`.
        e.  If the object *does not* meet the criteria, change the corresponding pixels in the *output* grid to white (0).
    4.  After iterating through all cells, any location in the output grid that still holds a placeholder value corresponds to an object that *was* kept. Change these placeholder locations back to their original colors (1 or 8) from the input grid. (Alternatively, initialize the output grid as all white (0), and only copy the pixels of the objects that meet the criteria).
    5.  Return the final output grid.
