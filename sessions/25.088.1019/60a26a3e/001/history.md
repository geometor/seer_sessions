
## train_1

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 2 0 0 0 0 2 0 0 0 0 2 0 0
0 0 2 0 2 0 0 2 0 2 0 0 2 0 2 0
0 0 0 2 0 0 0 0 2 0 0 0 0 2 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 2 0 0 0 0 0 0 0
0 0 2 0 0 0 0 2 0 2 0 0 0 0 0 0
0 2 0 2 0 0 0 0 2 0 0 0 0 0 0 0
0 0 2 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 2 0 0 0 0 2 0 0 0 0 2 0 0
0 0 2 0 2 1 1 2 0 2 1 1 2 0 2 0
0 0 0 2 0 0 0 0 2 0 0 0 0 2 0 0
0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 2 0 0 0 0 0 0 0
0 0 2 0 0 0 0 2 0 2 0 0 0 0 0 0
0 2 0 2 0 0 0 0 2 0 0 0 0 0 0 0
0 0 2 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


## train_2

**input:**
```
0 0 0 2 0 0 0 0 0 0 2 0 0 0 0
0 0 2 0 2 0 0 0 0 2 0 2 0 0 0
0 0 0 2 0 0 0 0 0 0 2 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 2 0 0 0 0
0 0 0 0 0 0 0 0 0 2 0 2 0 0 0
0 0 0 0 0 0 0 0 0 0 2 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 2 0 0 0 0 0 0 2 0 0 0 0
0 0 2 0 2 1 1 1 1 2 0 2 0 0 0
0 0 0 2 0 0 0 0 0 0 2 0 0 0 0
0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 2 0 0 0 0
0 0 0 0 0 0 0 0 0 2 0 2 0 0 0
0 0 0 0 0 0 0 0 0 0 2 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


## train_3

**input:**
```
0 0 0 0 0 0 0 0 2 0 0 0 0 0 0
0 0 0 0 0 0 0 2 0 2 0 0 0 0 0
0 0 0 0 0 0 0 0 2 0 0 0 0 0 0
0 0 0 0 2 0 0 0 0 0 0 2 0 0 0
0 0 0 2 0 2 0 0 0 0 2 0 2 0 0
0 0 0 0 2 0 0 0 0 0 0 2 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 2 0 0 0 0 0 0 2 0 0 0
0 0 0 2 0 2 0 0 0 0 2 0 2 0 0
0 0 0 0 2 0 0 0 0 0 0 2 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 2 0 0 0 0 0 0
0 0 0 0 0 0 0 2 0 2 0 0 0 0 0
0 0 0 0 0 0 0 0 2 0 0 0 0 0 0
0 0 0 0 2 0 0 0 0 0 0 2 0 0 0
0 0 0 2 0 2 1 1 1 1 2 0 2 0 0
0 0 0 0 2 0 0 0 0 0 0 2 0 0 0
0 0 0 0 1 0 0 0 0 0 0 1 0 0 0
0 0 0 0 1 0 0 0 0 0 0 1 0 0 0
0 0 0 0 2 0 0 0 0 0 0 2 0 0 0
0 0 0 2 0 2 1 1 1 1 2 0 2 0 0
0 0 0 0 2 0 0 0 0 0 0 2 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```

Okay, let's break down this ARC task.

**Perception of Elements:**

1.  **Input Grid:** Contains a white background (0) and several distinct shapes made of red pixels (2).
2.  **Red Shapes:** These shapes appear to be the primary objects. They are contiguous blocks of red pixels. Their form varies slightly but often resembles a 'plus' sign (a central pixel with four orthogonal neighbours).
3.  **Output Grid:** Largely identical to the input grid, but with additional blue pixels (1) added. The original red shapes remain unchanged.
4.  **Blue Pixels:** These appear as straight lines (horizontal or vertical) connecting pairs of red shapes. They occupy the white space *between* the shapes.

**YAML Fact Document:**


```yaml
task_description: Add blue lines connecting the centers of aligned red shapes.
elements:
  - element_type: background
    color: white (0)
  - element_type: object
    color: red (2)
    description: Contiguous shapes made of red pixels. These are the primary input objects.
    properties:
      - shape: Variable, often resembling a plus sign.
      - center: Geometric center (average row/column index) of the pixels in the shape.
      - bounding_box: Minimum rectangle enclosing the shape.
  - element_type: added_object
    color: blue (1)
    description: Straight lines (horizontal or vertical) added in the output.
    properties:
      - location: Positioned in the white space between pairs of red shapes.
      - alignment: Connects the centers of red shapes that share either the same row or the same column index.
      - extent: Fills the gap exactly between the bounding boxes of the connected shapes along the line connecting their centers.
relationships:
  - type: alignment
    description: Pairs of red shapes are identified based on whether their centers share the same row index (horizontal alignment) or the same column index (vertical alignment).
  - type: connection
    description: Aligned pairs of red shapes are connected by a blue line segment.
    conditions:
      - The line is drawn along the shared row/column index of the centers.
      - The line fills the white space between the bounding boxes of the two shapes.
transformation:
  - action: identify_objects
    input: input grid
    output: list of red shapes (coordinates, center, bounding box)
  - action: find_pairs
    input: list of red shapes
    output: pairs of shapes aligned horizontally (same center row) and vertically (same center column)
  - action: draw_lines
    input: aligned pairs, input grid
    output: new grid with blue lines added
    details:
      - For horizontal pairs (ShapeA, ShapeB) on row 'r' with centers (r, cA) and (r, cB), fill pixels (r, c) with blue where max_col(ShapeA) < c < min_col(ShapeB).
      - For vertical pairs (ShapeA, ShapeB) in column 'c' with centers (rA, c) and (rB, c), fill pixels (r, c) with blue where max_row(ShapeA) < r < min_row(ShapeB).
  - action: combine
    input: input grid, grid with blue lines
    output: final output grid (overlaying blue lines onto input grid)

```


**Natural Language Program:**

1.  Start with the input grid.
2.  Identify all distinct, contiguous shapes composed of red pixels (2).
3.  For each red shape identified, calculate its geometric center (the average row and column coordinates of its constituent pixels, rounded to the nearest integer). Also determine the bounding box for each shape (minimum and maximum row and column coordinates).
4.  Examine all possible pairs of red shapes.
5.  Identify pairs of shapes whose calculated centers have the *same row* index. For each such horizontal pair, determine the column extent of the gap between their bounding boxes along that shared center row. Fill all white pixels (0) within this gap on the shared center row with blue pixels (1).
6.  Identify pairs of shapes whose calculated centers have the *same column* index. For each such vertical pair, determine the row extent of the gap between their bounding boxes along that shared center column. Fill all white pixels (0) within this gap in the shared center column with blue pixels (1).
7.  The final output grid is the initial input grid with all the added blue pixels from steps 5 and 6.
