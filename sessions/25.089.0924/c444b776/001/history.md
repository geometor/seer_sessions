
## train_1

**input:**
```
0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 2 0
0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0 0
0 0 1 0 0 0 0 0 0
0 0 2 0 0 0 0 2 0
0 2 0 0 0 5 5 0 0
0 0 0 0 0 0 0 0 0
4 4 4 4 4 4 4 4 4
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 2 0
0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0 0
0 0 1 0 0 0 0 0 0
0 0 2 0 0 0 0 2 0
0 2 0 0 0 5 5 0 0
0 0 0 0 0 0 0 0 0
4 4 4 4 4 4 4 4 4
0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 2 0
0 0 1 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0 0
0 0 1 0 0 0 0 0 0
0 0 2 0 0 0 0 2 0
0 2 0 0 0 5 5 0 0
0 0 0 0 0 0 0 0 0
```


## train_2

**input:**
```
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 7 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 2 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 2 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 3 0 0 0 3 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 8 7 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 8 0 0 3 0 4 0 0 0 0 0 0 0 0 0
0 7 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 7 0 0 0 4 0 0 0 0 0 7 0 0 0
0 0 0 2 0 0 0 0 0 4 0 0 0 2 0 0 0 0 0
0 0 2 0 0 0 0 0 0 4 0 0 2 0 0 0 0 0 0
0 3 0 0 0 3 0 0 0 4 0 3 0 0 0 3 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 8 7 0 0 0 0 4 0 0 0 8 7 0 0 0 0
0 0 0 0 8 0 0 3 0 4 0 0 0 0 8 0 0 3 0
0 7 0 0 0 0 0 0 0 4 0 7 0 0 0 0 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 7 0 0 0 4 0 0 0 0 0 7 0 0 0
0 0 0 2 0 0 0 0 0 4 0 0 0 2 0 0 0 0 0
0 0 2 0 0 0 0 0 0 4 0 0 2 0 0 0 0 0 0
0 3 0 0 0 3 0 0 0 4 0 3 0 0 0 3 0 0 0
0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 8 7 0 0 0 0 4 0 0 0 8 7 0 0 0 0
0 0 0 0 8 0 0 3 0 4 0 0 0 0 8 0 0 3 0
0 7 0 0 0 0 0 0 0 4 0 7 0 0 0 0 0 0 0
```

Okay, let's analyze the provided examples.

**Perception**

1.  **Separator Identification:** Both examples feature a prominent, continuous line of yellow pixels (color 4). In `train_1`, this line is horizontal, located at row 9. In `train_2`, it's vertical, located at column 9. This yellow line acts as a separator, dividing the grid.
2.  **Region Definition:** The yellow line divides the grid into two main regions (excluding the line itself).
3.  **Content Asymmetry:** In the input grids, one region contains a pattern of various colored pixels against a white background, while the other region is entirely white (color 0).
4.  **Transformation - Copy/Reflection:** The transformation involves copying the contents of the patterned region into the white region. This effectively creates a reflection of the pattern across the yellow separator line.
5.  **Preservation:** The yellow separator line itself and the original patterned region remain unchanged in the output grid.
6.  **Orientation:** The orientation of the copy/reflection depends on the orientation of the yellow line (horizontal line leads to vertical reflection, vertical line leads to horizontal reflection).

**Facts**


```yaml
- task: Find and reflect a pattern across a yellow separator line.
- objects:
    - grid: The input 2D array of pixels.
    - separator_line: A continuous line (horizontal or vertical) of yellow pixels (color 4).
    - pattern_region: The area on one side of the separator_line containing non-white pixels.
    - empty_region: The area on the other side of the separator_line, initially containing only white pixels (color 0).
- properties:
    - separator_line:
        - color: yellow (4)
        - orientation: horizontal or vertical
        - location: specific row index (if horizontal) or column index (if vertical)
    - pattern_region: Contains the source pattern.
    - empty_region: Initially filled with the background color (white, 0).
- relationships:
    - separator_line: Divides the grid into pattern_region and empty_region.
    - pattern_region: Source for the transformation.
    - empty_region: Target area for the transformation.
- actions:
    - Locate the separator_line.
    - Determine its orientation and location.
    - Identify the pattern_region and the empty_region based on the separator_line.
    - Copy the pixel values from the pattern_region into the corresponding positions within the empty_region, mirroring across the separator_line.
    - Preserve the original pattern_region and the separator_line in the output.
```


**Natural Language Program**

1.  Scan the input grid to find a continuous, single-pixel-thick line composed entirely of yellow pixels (color 4). This line will be either horizontal or vertical.
2.  Determine the orientation (horizontal or vertical) and the index (row or column) of this yellow separator line.
3.  Identify the two regions created by this line. One region will contain various colored pixels (the "pattern region"), and the other will be filled with white pixels (the "empty region").
4.  Create the output grid as a copy of the input grid.
5.  If the separator line is horizontal at row `R`:
    *   Determine if the pattern region is above (rows 0 to `R-1`) or below (rows `R+1` to end) the line.
    *   If the pattern is above, copy the pixels from rows 0 to `R-1` into rows `R+1` to `2*R`.
    *   If the pattern is below, copy the pixels from rows `R+1` to end into rows 0 to `R-1`. *(Self-correction: The examples only show patterns above/left and empty below/right. Assume the copy always happens from the non-empty side to the empty side relative to the line)*.
    *   For each row `r` in the pattern region, and each column `c`, copy the pixel value `input[r][c]` to the corresponding mirrored position `output[R + (R - r)][c]` (if pattern above) or `output[R - (r - R)][c]` (if pattern below) - Simplified: copy `input[r][c]` to `output[2*R - r][c]`.
6.  If the separator line is vertical at column `C`:
    *   Determine if the pattern region is to the left (columns 0 to `C-1`) or right (columns `C+1` to end) of the line.
    *   Assume the pattern is on the left and the empty region is on the right based on the example.
    *   For each row `r` and each column `c` in the pattern region (columns 0 to `C-1`), copy the pixel value `input[r][c]` to the corresponding mirrored position `output[r][C + (C - c)]` - Simplified: copy `input[r][c]` to `output[r][2*C - c]`.
7.  Ensure the yellow separator line and the original pattern region remain unchanged in the output grid. The output grid now contains the original pattern, the separator line, and the reflected pattern in the previously empty region.
