
## train_1

**input:**
```
0 0 0 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 5 5 5 5 5 0 0 0 5 0 0 5 5
0 0 0 5 0 0 0 5 0 0 0 5 0 0 5 0
0 0 0 5 0 0 0 5 5 5 5 5 5 5 5 0
0 0 0 5 0 0 0 5 0 0 0 0 0 0 5 0
0 0 0 5 5 5 5 5 0 0 0 0 0 0 5 5
0 0 0 0 0 5 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 0 0 0 0
5 5 5 5 5 5 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 5 5 5 5 5 0 0 0 5 0 0 5 5
0 0 0 5 4 4 4 5 0 0 0 5 0 0 5 4
0 0 0 5 4 4 4 5 5 5 5 5 5 5 5 4
0 0 0 5 4 4 4 5 0 0 0 0 0 0 5 4
0 0 0 5 5 5 5 5 0 0 0 0 0 0 5 5
0 0 0 0 0 5 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 0 0 0 0
5 5 5 5 5 5 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 0 0 0 0
```


## train_2

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 5 0 0 0 5 5
5 5 0 0 0 5 5 5 5 0 0 0 0 5 0 0 0 5 0
0 5 5 5 5 5 0 0 5 5 5 5 5 5 5 5 5 5 0
5 5 0 0 0 5 0 0 5 0 0 0 0 5 0 0 0 5 0
0 0 0 0 0 5 0 0 5 0 0 0 0 5 0 0 0 5 5
0 0 0 0 0 5 0 0 5 0 0 5 5 5 5 0 0 0 0
0 0 0 0 0 5 0 0 5 0 0 5 0 0 5 0 0 0 0
0 0 0 0 0 5 5 5 5 0 0 5 0 0 5 5 5 5 5
0 0 0 0 0 0 5 0 0 0 0 5 5 5 5 0 0 0 0
0 0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0 0
0 0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0 0
0 0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 5 0 0 0 5 5
5 5 0 0 0 5 5 5 5 0 0 0 0 5 0 0 0 5 4
4 5 5 5 5 5 4 4 5 5 5 5 5 5 5 5 5 5 4
5 5 0 0 0 5 4 4 5 0 0 0 0 5 0 0 0 5 4
0 0 0 0 0 5 4 4 5 0 0 0 0 5 0 0 0 5 5
0 0 0 0 0 5 4 4 5 0 0 5 5 5 5 0 0 0 0
0 0 0 0 0 5 4 4 5 0 0 5 4 4 5 0 0 0 0
0 0 0 0 0 5 5 5 5 0 0 5 4 4 5 5 5 5 5
0 0 0 0 0 0 5 0 0 0 0 5 5 5 5 0 0 0 0
0 0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0 0
0 0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0 0
0 0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0 0
```


## train_3

**input:**
```
0 0 0 0 0 5 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 5 5 5 5 5 0
5 5 5 5 5 5 5 5 5 5 5 5 0 0 0 5 0
0 0 0 0 0 5 0 0 0 0 0 5 0 0 0 5 5
0 0 0 5 5 5 5 0 0 0 0 5 0 0 0 5 0
5 5 5 5 0 0 5 0 0 0 0 5 5 5 5 5 0
0 0 0 5 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 5 0 0 5 0 0 0 0 0 5 0 0 0 0
0 0 0 5 5 5 5 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 5 5 5 5 0 0 0
5 5 5 5 5 5 5 5 5 5 5 0 0 5 0 0 0
0 0 0 0 0 5 0 0 0 0 5 0 0 5 0 0 0
0 0 0 0 0 5 0 0 0 0 5 5 5 5 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0
```


**output:**
```
0 0 0 0 0 5 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 5 5 5 5 5 0
5 5 5 5 5 5 5 5 5 5 5 5 4 4 4 5 0
0 0 0 0 0 5 0 0 0 0 0 5 4 4 4 5 5
0 0 0 5 5 5 5 0 0 0 0 5 4 4 4 5 0
5 5 5 5 4 4 5 0 0 0 0 5 5 5 5 5 0
0 0 0 5 4 4 5 0 0 0 0 0 5 0 0 0 0
0 0 0 5 4 4 5 0 0 0 0 0 5 0 0 0 0
0 0 0 5 5 5 5 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 5 0 0 0 0 5 5 5 5 0 0 0
5 5 5 5 5 5 5 5 5 5 5 4 4 5 0 0 0
0 0 0 0 0 5 0 0 0 0 5 4 4 5 0 0 0
0 0 0 0 0 5 0 0 0 0 5 5 5 5 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 5 0 0 0 0
```

*   **Perception**:
    *   The input grids contain white (0) and gray (5) pixels.
    *   The gray pixels often form closed or partially closed shapes or boundaries.
    *   The output grids are identical to the input grids, except that some white (0) pixels have been changed to yellow (4).
    *   The white pixels that change to yellow are those located *inside* regions completely enclosed by gray pixels.
    *   White pixels not enclosed by gray pixels remain white.
    *   Gray pixels remain unchanged.
    *   The concept of "inside" seems crucial; it refers to areas that cannot reach the edge of the grid without crossing a gray pixel.

*   **Facts**:
    
```yaml
    task_type: color_filling
    objects:
      - name: boundary
        color: gray (5)
        role: defines enclosed regions
        persistence: unchanged between input and output
      - name: background/fillable_area
        color: white (0)
        role: potential area to be filled
        persistence: may change color if enclosed
      - name: filled_area
        color: yellow (4)
        role: result of filling an enclosed white area
        persistence: appears only in output, replacing enclosed white pixels
    properties:
      - enclosure: White areas can be either enclosed by gray boundaries or connected to the grid edge.
    actions:
      - identify: Find all contiguous regions of white (0) pixels.
      - check_enclosure: For each white region, determine if it is completely surrounded by gray (5) pixels (i.e., cannot reach the grid edge without crossing gray).
      - fill: Change the color of all pixels within the enclosed white regions to yellow (4).
    relationships:
      - boundary_encloses_fillable: Gray pixels form boundaries that enclose white pixels.
      - fillable_becomes_filled: Enclosed white pixels in the input become yellow pixels in the output.
    ```


*   **Natural Language Program**:
    1.  Identify all contiguous regions of white pixels (color 0) in the input grid.
    2.  For each identified white region, check if it is fully enclosed by gray pixels (color 5). A region is considered fully enclosed if none of its pixels are on the border of the grid, and all adjacent non-white pixels are gray. (Alternatively, perform a flood fill starting from each white pixel; if the fill reaches the edge of the grid without crossing a gray pixel, it's not enclosed. If the fill stops only at gray pixels, it is enclosed).
    3.  Create the output grid by copying the input grid.
    4.  For every white pixel identified in step 1 that belongs to a fully enclosed region (determined in step 2), change its color to yellow (color 4) in the output grid.
    5.  Leave all other pixels (gray pixels and non-enclosed white pixels) unchanged in the output grid.
