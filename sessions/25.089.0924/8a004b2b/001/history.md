
## train_1

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 4 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 2 2 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 2 2 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 8 8 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 8 8 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 4 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 2 3 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 3 8 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
4 0 0 0 0 0 4
0 2 2 3 3 0 0
0 2 2 3 3 0 0
0 3 3 8 8 0 0
0 3 3 8 8 0 0
0 0 0 0 0 0 0
4 0 0 0 0 0 4
```


## train_2

**input:**
```
0 0 4 0 0 0 0 0 0 0 0 0 0 0 0 4 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 3 3 0 0 0 0 0 0 2 2 0 0 0 0
0 0 0 3 3 0 0 0 0 0 0 2 2 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
0 0 4 0 0 0 0 0 0 0 0 0 0 0 0 4 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 3 0 0 0 2 0 0 0 0 0 0 0 0 0 0
0 0 1 1 0 1 1 0 0 0 0 0 0 0 0 0 0
0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
4 0 0 0 0 0 0 0 0 0 0 0 0 4
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 3 3 0 0 0 0 0 0 2 2 0 0 0
0 3 3 0 0 0 0 0 0 2 2 0 0 0
0 1 1 1 1 0 0 1 1 1 1 0 0 0
0 1 1 1 1 0 0 1 1 1 1 0 0 0
0 0 0 1 1 1 1 1 1 0 0 0 0 0
0 0 0 1 1 1 1 1 1 0 0 0 0 0
4 0 0 0 0 0 0 0 0 0 0 0 0 4
```


## train_3

**input:**
```
0 0 0 4 0 0 0 0 0 0 0 0 0 4 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 2 2 2 0 0 0 1 1 1 0 0 0 0 0
0 0 0 0 2 2 2 0 0 0 1 1 1 0 0 0 0 0
0 0 0 0 2 2 2 0 0 0 1 1 1 0 0 0 0 0
0 0 0 0 0 0 0 3 3 3 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 3 3 3 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 3 3 3 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 4 0 0 0 0 0 0 0 0 0 4 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 2 1 1 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 3 1 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
4 0 0 0 0 0 0 0 0 0 4
0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0
0 2 2 2 1 1 1 1 1 1 0
0 2 2 2 1 1 1 1 1 1 0
0 2 2 2 1 1 1 1 1 1 0
0 0 0 0 3 3 3 1 1 1 0
0 0 0 0 3 3 3 1 1 1 0
0 0 0 0 3 3 3 1 1 1 0
0 0 0 0 0 0 0 0 0 0 0
4 0 0 0 0 0 0 0 0 0 4
```

**Perception**

1.  **Input/Output Structure:** Each task pair consists of an input grid and a smaller output grid. Both grids contain colored pixels (represented by integers 0-9) on a white (0) background.
2.  **Key Element - Yellow Pixels (4):** Yellow pixels appear in the input grids, typically marking the corners of a rectangular region. These yellow pixels are consistently present in the corners of the output grid.
3.  **Transformation:** The core transformation involves extracting a subgrid from the input and placing it into the output grid.
4.  **Bounding Box:** The yellow pixels in the input define a bounding box. The top-left corner of the box is determined by the minimum row and column of the yellow pixels, and the bottom-right corner by the maximum row and column.
5.  **Content Extraction:** The content *strictly inside* this bounding box (i.e., excluding the rows and columns containing the yellow boundary pixels) is extracted from the input grid.
6.  **Output Construction:**
    *   The output grid's dimensions are determined by the bounding box size (max_row - min_row + 1) x (max_col - min_col + 1).
    *   The extracted content is placed into the output grid, offset by one row and one column from the top-left (i.e., starting at output grid coordinates [1, 1]).
    *   The four corner cells of the output grid are set to yellow (4).
    *   The rest of the output grid (the border rows/columns, excluding corners) remains white (0), unless filled by the copied content.

**YAML Facts**


```yaml
elements:
  - object: grid
    type: 2D array of integers (0-9)
    role: input/output container
  - object: pixel
    attributes:
      - color: integer (0-9) corresponding to specific colors
      - position: (row, column)
  - object: yellow_pixels
    color: 4
    role: delimiter
    description: Define the corners of a bounding box in the input grid. Always appear at the corners of the output grid.
  - object: bounding_box
    defined_by: yellow_pixels
    properties:
      - min_row: minimum row index of yellow pixels
      - min_col: minimum column index of yellow pixels
      - max_row: maximum row index of yellow pixels
      - max_col: maximum column index of yellow pixels
      - height: max_row - min_row + 1
      - width: max_col - min_col + 1
    role: defines the region of interest in the input and the size of the output.
  - object: inner_content
    location: Input grid region strictly inside the bounding_box (rows from min_row + 1 to max_row - 1, columns from min_col + 1 to max_col - 1)
    description: The pixels and their arrangement within the bounding box, excluding the boundary itself.
    role: content to be transferred to the output grid.
actions:
  - name: identify_bounding_box
    input: input grid
    output: bounding_box coordinates (min_row, min_col, max_row, max_col)
    steps:
      - find all pixels with color yellow (4)
      - determine minimum and maximum row and column indices
  - name: calculate_output_size
    input: bounding_box coordinates
    output: output grid dimensions (height, width)
    calculation: (max_row - min_row + 1, max_col - min_col + 1)
  - name: create_output_grid
    input: output grid dimensions
    output: new grid initialized with white (0)
  - name: extract_inner_content
    input: input grid, bounding_box coordinates
    output: subgrid containing pixels from input[min_row + 1 : max_row, min_col + 1 : max_col]
  - name: place_content_in_output
    input: output grid, extracted inner_content
    target_location: output grid starting at [1, 1]
    action: copy inner_content to the specified location in the output grid
  - name: set_output_corners
    input: output grid
    action: set pixels at [0, 0], [0, width-1], [height-1, 0], [height-1, width-1] to yellow (4)
relationships:
  - input yellow pixels determine the output grid size.
  - input yellow pixels determine the region from which content is extracted.
  - input content within the bounding box (excluding the boundary) maps directly to the output grid content (offset by [1, 1]).
  - output grid corners are always yellow (4).
```


**Natural Language Program**

1.  Identify all pixels with the color yellow (4) in the input grid.
2.  Determine the minimum row (`min_row`), minimum column (`min_col`), maximum row (`max_row`), and maximum column (`max_col`) among the coordinates of these yellow pixels. This defines the bounding box.
3.  Calculate the dimensions of the output grid: `height = max_row - min_row + 1`, `width = max_col - min_col + 1`.
4.  Create a new grid (the output grid) of size `height` x `width`, initialized entirely with the background color white (0).
5.  Iterate through the input grid for rows `r` from `min_row + 1` to `max_row - 1` and for columns `c` from `min_col + 1` to `max_col - 1`.
6.  For each pixel at input grid coordinate (`r`, `c`), copy its color value to the output grid at coordinate (`r - min_row`, `c - min_col`).
7.  Set the color of the four corner pixels in the output grid to yellow (4):
    *   Output grid [0, 0] = 4
    *   Output grid [0, `width` - 1] = 4
    *   Output grid [`height` - 1, 0] = 4
    *   Output grid [`height` - 1, `width` - 1] = 4
8.  Return the completed output grid.
