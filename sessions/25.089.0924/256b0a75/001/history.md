
## train_1

**input:**
```
0 4 0 0 0 0 0 4 0 0 0 0 6 0 0 0 0 0 0 1 0 0 5 0
0 0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 7 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 2 0 0 9 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 8 8 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 8 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 2 0 0 0 8 0 0 0 0 0 8 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 8 8 0 0 0 8 8 0 0 0 7 0 0 0
0 0 0 9 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 7 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 5 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 4
```


**output:**
```
0 4 0 0 0 0 0 4 0 0 4 1 6 1 1 1 1 0 0 1 0 0 5 0
0 0 0 0 0 0 0 0 0 0 4 1 1 1 1 1 1 0 0 0 0 0 0 0
0 0 0 0 0 0 7 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0 0
0 2 0 0 9 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0 0
1 1 1 1 1 1 1 1 1 1 8 8 8 8 8 8 8 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 8 1 1 1 1 1 8 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 8 1 1 1 1 1 8 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 8 1 1 1 1 1 8 1 1 1 1 1 1 2
1 1 1 1 1 1 1 1 1 1 8 1 1 1 1 1 8 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 8 1 1 1 1 1 8 1 1 1 1 1 1 1
2 2 2 2 2 2 2 1 1 1 8 1 1 1 1 1 8 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 8 8 8 8 8 8 8 1 1 1 7 7 7 7
0 0 0 9 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 7 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 7 0 0 5 0 0 0 0
0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 7 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 7 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 3 1 1 1 1 1 7 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 3 1 1 1 1 1 7 0 0 0 0 0 0 1
0 0 0 0 0 0 0 0 0 0 3 1 1 1 1 1 7 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 3 1 1 3 1 1 7 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 3 1 1 3 1 1 7 0 0 0 0 0 0 4
```


## train_2

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 3 0 0 0 0 0 0 6 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 2 0 0 0 0 0 0 8 8 0 0 8 8 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 8 0 0 0 0 8 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 7 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 4 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 0 0 0 0 8 0 0 0 9 0 0
0 0 0 0 0 0 0 0 0 7 7 0 0 8 8 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 9 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 7 6 7 7 4 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 6 7 7 4 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 6 7 7 7 7 0 0 0 0 0 0
0 0 0 3 0 0 0 0 0 7 6 7 7 7 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 7 7 7 7 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 7 7 7 7 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 7 7 7 7 7 0 0 0 0 0 0
2 2 2 7 7 7 7 7 7 8 8 8 8 8 8 7 7 7 7 7 7
7 7 7 7 7 7 7 7 7 8 7 7 7 7 8 7 7 7 7 7 7
7 7 7 7 7 7 7 7 7 8 7 7 7 7 8 7 7 7 7 7 7
7 7 7 7 7 7 7 7 7 8 7 7 7 7 8 7 7 7 7 7 7
4 4 4 4 4 7 7 7 7 8 7 7 7 7 8 7 7 7 7 7 7
7 7 7 7 7 7 7 7 7 8 7 7 7 7 8 7 7 7 7 7 7
7 7 7 7 7 7 7 7 7 8 7 7 7 7 8 7 7 7 9 9 9
7 7 7 7 7 7 7 7 7 8 8 8 8 8 8 7 7 7 7 7 7
0 0 0 0 0 0 0 0 0 7 7 7 7 7 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 7 7 7 7 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 7 7 7 1 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 7 7 7 1 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 7 7 7 1 7 0 0 0 0 0 0
0 0 0 1 0 0 0 0 0 7 7 7 7 1 7 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 7 7 7 7 1 7 0 0 0 9 0 0
0 0 0 0 0 0 0 0 0 7 7 7 7 1 7 0 0 0 0 0 0
```


## train_3

**input:**
```
0 0 0 0 0 0 0 0 0 7 0 5 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 9 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 1 0 0 0 9 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 6 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 8 8 0 0 0 0 8 8 0 0 0 0 0 6 0 0 0
0 0 0 0 0 0 8 0 0 0 0 0 0 8 0 0 0 0 0 0 0 0 0
0 0 0 5 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 6 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 1 0 0 0 8 0 0 0 0 0 0 3 0 0 0 0 0 0 0 0 0
0 6 0 0 0 0 8 8 0 0 0 0 3 3 0 0 0 0 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0
0 5 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 9 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 1 3 3 7 9 5 3 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 1 3 3 3 9 6 3 3 0 9 0 0 0 0 0 0 0
0 0 0 0 0 0 1 3 3 3 9 6 3 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 1 3 3 3 9 6 3 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 3 3 3 3 3 6 3 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 3 3 3 3 3 6 3 3 0 0 0 0 0 0 0 0 0
3 3 3 3 3 3 8 8 8 8 8 8 8 8 3 3 3 3 3 6 6 6 6
3 3 3 3 3 3 8 3 3 3 3 3 3 8 3 3 3 3 3 3 3 3 3
5 5 5 5 3 3 8 3 3 3 3 3 3 8 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 8 3 3 3 3 3 3 8 3 3 3 3 3 3 3 3 3
6 6 3 3 3 3 8 3 3 3 3 3 3 8 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 8 3 3 3 3 3 3 8 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 8 3 3 3 3 3 3 8 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 8 3 3 3 3 3 3 8 3 3 3 3 3 3 3 3 3
1 1 1 3 3 3 8 3 3 3 3 3 3 8 3 3 3 3 3 3 3 3 3
6 6 3 3 3 3 8 8 8 8 8 8 8 8 3 3 3 3 1 1 1 1 1
0 0 0 0 0 0 3 3 3 3 3 3 3 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 3 3 3 3 3 3 3 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 3 3 3 3 3 3 1 3 0 0 0 0 0 0 0 0 0
0 5 2 0 0 0 3 3 3 3 3 3 1 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 3 3 3 3 3 9 1 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 3 3 3 3 3 9 1 3 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 3 3 1 3 3 9 1 3 0 0 0 0 0 0 0 0 0
```

**Perception of the Task Elements**

1.  **Input/Output Structure:** Both input and output are grids of colored pixels.
2.  **Background Color:** The predominant color is white (0), acting as the background.
3.  **Key Object - Boundary Frame:** In all examples, there's a structure made of azure (8) pixels. This structure often forms a hollow rectangle or frame-like shape, though it might not be perfectly rectangular itself (e.g., the 'U' shape in train_1).
4.  **Other Objects:** Various other colored pixels exist, sometimes forming small contiguous objects of a single color.
5.  **Transformation:** The core transformation involves identifying a rectangular region associated with the azure (8) pixels and modifying the background pixels within that region.
6.  **Region Identification:** The region appears to be the bounding box encompassing all azure (8) pixels in the input grid.
7.  **Fill Operation:** White (0) pixels strictly *inside* this bounding box are replaced with a specific "fill color" in the output.
8.  **Fill Color Determination:** The fill color is derived from the input grid. It seems to be the color of the largest contiguous object (measured by pixel count) that is composed of a single color (other than white/0 and azure/8) and is located entirely *within* the bounding box defined by the azure pixels.
9.  **Preservation:** Pixels outside the bounding box, the azure boundary pixels themselves, and any non-white pixels originally inside the bounding box remain unchanged in the output.

**YAML Facts**


```yaml
task_elements:
  - type: grid
    description: Input and output are 2D grids of pixels with integer values 0-9 representing colors.
  - type: background
    color_name: white
    color_value: 0
    description: The default background color.
  - type: boundary_object
    color_name: azure
    color_value: 8
    description: Pixels of this color define the boundary of a region.
  - type: contained_objects
    description: Contiguous blocks of pixels of a single color (not white/0 and not azure/8) found within the boundary region.
  - type: bounding_box
    description: The smallest rectangle enclosing all azure (8) pixels.
    role: Defines the area for the fill operation.
  - type: fill_color
    determination:
      - Find all contiguous objects (not white/0, not azure/8).
      - Filter for objects completely inside the bounding_box.
      - Identify the object with the largest pixel count among the filtered set.
      - The color of this largest object is the fill_color.
    role: The color used to replace background pixels within the bounding box.
transformation:
  - action: identify_boundary
    input: input_grid
    color: azure (8)
    output: set of coordinates for all azure pixels
  - action: calculate_bounding_box
    input: set of coordinates for azure pixels
    output: coordinates defining the minimum bounding rectangle (min_row, max_row, min_col, max_col)
  - action: identify_internal_objects
    input: input_grid, bounding_box
    criteria:
      - Must not be white (0) or azure (8).
      - Must be fully contained within the bounding_box coordinates.
    output: list of contained objects (color, size, location)
  - action: determine_fill_color
    input: list of contained objects
    method: Find the object with the maximum size (pixel count).
    output: color of the largest contained object
  - action: apply_fill
    target: input_grid
    region: inside the bounding_box
    condition: pixel color is white (0)
    replacement: fill_color
    output: output_grid (pixels outside the box, boundary pixels, and non-white pixels inside the box remain unchanged)

```


**Natural Language Program**

1.  Initialize the output grid as a copy of the input grid.
2.  Locate all pixels in the input grid that have the color azure (8).
3.  Determine the minimum bounding box that encloses all identified azure (8) pixels. Let this box be defined by minimum row `min_r`, maximum row `max_r`, minimum column `min_c`, and maximum column `max_c`.
4.  Identify all distinct contiguous objects in the input grid whose color is neither white (0) nor azure (8).
5.  Filter these objects, keeping only those that are located entirely within the bounds of the bounding box (i.e., all pixels of the object must have row coordinates between `min_r` and `max_r` inclusive, and column coordinates between `min_c` and `max_c` inclusive).
6.  Among the filtered objects, find the object(s) with the largest area (highest pixel count). If there's a tie, any one of the largest objects can be chosen (the examples suggest a unique largest object).
7.  Determine the color of this largest, fully contained object. This color is the "fill color".
8.  Iterate through each pixel within the bounding box (from row `min_r` to `max_r`, and column `min_c` to `max_c`).
9.  For each pixel within this bounding box, check if its color in the input grid is white (0).
10. If the pixel's color is white (0), change its color in the output grid to the determined "fill color".
11. Pixels outside the bounding box, pixels that were originally azure (8), and non-white pixels that were inside the bounding box retain their original colors in the output grid.
12. Return the modified output grid.
