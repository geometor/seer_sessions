task_description: "Create a 3x3 blue frame around each gray pixel, preserving the gray pixel itself."
grid_properties:
  size: "Variable, demonstrated with 9x9."
  background_color: "White (0)"
objects:
  - type: "Pixel"
    color: "Gray (5)"
    role: "Trigger"
    description: "Acts as the center point for the transformation."
  - type: "Pixel"
    color: "White (0)"
    role: "Background / Modifiable"
    description: "Can be changed to blue if adjacent (including diagonally) to a gray pixel."
  - type: "Pixel"
    color: "Blue (1)"
    role: "Output Pattern"
    description: "Forms a 3x3 frame around the location of input gray pixels."
actions:
  - name: "Identify Triggers"
    input: "Input grid"
    output: "List of coordinates of gray (5) pixels."
  - name: "Generate Frames"
    input: "Coordinates of gray pixels"
    output: "Output grid"
    process:
      - "Initialize the output grid as a copy of the input grid."
      - "For each identified gray pixel coordinate (r, c):"
      - "  Define the 3x3 neighborhood centered at (r, c)."
      - "  For each coordinate (nr, nc) in the neighborhood:"
      - "    Check if (nr, nc) is within the grid bounds."
      - "    Check if (nr, nc) is not the center coordinate (r, c)."
      - "    If both conditions are true, set the pixel at (nr, nc) in the output grid to blue (1)."
relationships:
  - type: "Spatial"
    description: "The transformation is based on the 3x3 neighborhood (8 adjacent cells + center) around each gray pixel."
    rule: "White pixels within the 3x3 neighborhood of a gray pixel (excluding the center) become blue."
preservation:
  - "Gray (5) pixels from the input are preserved in the output."
  - "White (0) pixels outside the 3x3 neighborhoods of any gray pixel are preserved."
