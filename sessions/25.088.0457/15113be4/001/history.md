
## train_1

**input:**
```
0 0 1 4 1 0 0 4 0 0 0 4 0 0 1 4 0 0 1 4 0 1 0
1 1 0 4 0 1 0 4 1 0 1 4 1 1 1 4 1 1 0 4 0 0 1
1 1 1 4 0 0 1 4 1 0 1 4 0 0 1 4 0 0 1 4 1 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 1 0 4 1 0 0 4 1 0 0 4 1 1 0 4 0 0 1 4 1 0 0
0 0 0 4 0 0 1 4 0 1 0 4 1 0 0 4 0 0 0 4 0 0 1
0 1 0 4 0 0 1 4 1 0 1 4 0 1 0 4 1 0 0 4 0 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 1 0 4 0 1 0 4 1 1 1 4 0 0 0 4 0 1 0 4 0 1 1
0 0 0 4 0 1 0 4 0 0 0 4 1 0 1 4 0 0 1 4 0 0 1
0 1 1 4 0 1 0 4 1 0 0 4 0 0 0 4 0 0 0 4 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 1 1 4 1 1 0 4 1 0 0 4 0 0 1 4 0 0 1 4 0 0 1
1 1 1 4 1 0 1 4 0 0 1 4 0 0 0 4 1 1 0 4 1 0 0
1 1 0 4 1 1 0 4 1 1 0 4 0 0 1 4 0 1 1 4 1 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 0 0 4 0 1 0 4 1 0 1 4 1 0 1 4 0 0 0 0 6 6 4
1 1 0 4 0 1 1 4 0 0 0 4 1 0 0 4 0 0 0 0 6 6 4
0 0 0 4 0 0 1 4 0 0 0 4 0 1 1 4 6 6 6 6 0 0 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6 6 6 6 0 0 4
0 0 1 4 1 0 0 4 0 1 0 4 1 1 0 4 0 0 6 6 0 0 4
1 1 1 4 0 0 0 4 1 1 1 4 0 0 1 4 0 0 6 6 0 0 4
0 0 0 4 1 0 1 4 1 1 1 4 0 0 0 4 4 4 4 4 4 4 4
```


**output:**
```
0 0 6 4 1 0 0 4 0 0 0 4 0 0 1 4 0 0 1 4 0 1 0
6 6 0 4 0 1 0 4 1 0 1 4 1 1 1 4 1 1 0 4 0 0 1
1 6 1 4 0 0 1 4 1 0 1 4 0 0 1 4 0 0 1 4 1 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 1 0 4 1 0 0 4 1 0 0 4 1 1 0 4 0 0 1 4 1 0 0
0 0 0 4 0 0 1 4 0 1 0 4 1 0 0 4 0 0 0 4 0 0 1
0 1 0 4 0 0 1 4 1 0 1 4 0 1 0 4 1 0 0 4 0 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 1 0 4 0 1 0 4 1 1 1 4 0 0 0 4 0 1 0 4 0 1 1
0 0 0 4 0 1 0 4 0 0 0 4 1 0 1 4 0 0 1 4 0 0 1
0 1 1 4 0 1 0 4 1 0 0 4 0 0 0 4 0 0 0 4 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 1 6 4 1 1 0 4 1 0 0 4 0 0 1 4 0 0 6 4 0 0 1
6 6 1 4 1 0 1 4 0 0 1 4 0 0 0 4 6 6 0 4 1 0 0
1 6 0 4 1 1 0 4 1 1 0 4 0 0 1 4 0 6 1 4 1 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 0 0 4 0 1 0 4 1 0 1 4 1 0 1 4 0 0 0 0 6 6 4
1 1 0 4 0 1 1 4 0 0 0 4 1 0 0 4 0 0 0 0 6 6 4
0 0 0 4 0 0 1 4 0 0 0 4 0 1 1 4 6 6 6 6 0 0 4
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6 6 6 6 0 0 4
0 0 1 4 1 0 0 4 0 1 0 4 1 1 0 4 0 0 6 6 0 0 4
1 1 1 4 0 0 0 4 1 1 1 4 0 0 1 4 0 0 6 6 0 0 4
0 0 0 4 1 0 1 4 1 1 1 4 0 0 0 4 4 4 4 4 4 4 4
```


## train_2

**input:**
```
4 4 4 4 4 4 4 4 0 0 1 4 1 0 1 4 0 1 0 4 0 0 0
4 8 8 0 0 8 8 4 0 0 1 4 0 1 0 4 0 0 0 4 0 1 0
4 8 8 0 0 8 8 4 0 1 1 4 0 0 0 4 0 0 0 4 0 0 0
4 0 0 8 8 0 0 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 0 0 8 8 0 0 4 1 1 1 4 0 1 0 4 0 0 0 4 0 0 0
4 0 0 0 0 0 0 4 0 1 1 4 0 1 0 4 0 1 0 4 0 0 0
4 0 0 0 0 0 0 4 0 1 1 4 0 1 0 4 0 1 0 4 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 0 0 4 1 0 0 4 0 0 0 4 0 0 0 4 0 0 0 4 0 1 0
0 1 1 4 0 0 0 4 1 0 0 4 0 0 0 4 0 1 1 4 0 0 0
0 0 0 4 0 0 0 4 1 0 0 4 0 0 1 4 0 0 0 4 0 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 0 0 4 1 0 0 4 0 0 0 4 1 1 0 4 0 1 1 4 0 1 0
0 0 0 4 0 1 1 4 0 1 1 4 1 0 0 4 1 0 0 4 0 1 0
0 0 0 4 0 1 1 4 0 1 0 4 1 0 0 4 1 0 0 4 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 0 0 4 1 1 0 4 0 0 0 4 0 0 0 4 1 0 0 4 0 0 1
0 1 0 4 1 0 1 4 0 1 0 4 0 1 0 4 0 0 1 4 1 0 0
1 0 0 4 1 0 0 4 0 1 0 4 0 0 0 4 0 0 0 4 1 0 1
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 0 0 4 1 1 0 4 1 0 0 4 1 0 0 4 0 0 1 4 1 1 0
1 1 0 4 1 0 1 4 0 0 1 4 0 1 0 4 1 1 0 4 1 0 1
1 0 0 4 1 1 1 4 0 1 0 4 0 1 1 4 1 1 1 4 0 0 0
```


**output:**
```
4 4 4 4 4 4 4 4 0 0 1 4 8 0 8 4 0 1 0 4 0 0 0
4 8 8 0 0 8 8 4 0 0 1 4 0 8 0 4 0 0 0 4 0 1 0
4 8 8 0 0 8 8 4 0 1 1 4 0 0 0 4 0 0 0 4 0 0 0
4 0 0 8 8 0 0 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 0 0 8 8 0 0 4 8 1 8 4 0 1 0 4 0 0 0 4 0 0 0
4 0 0 0 0 0 0 4 0 8 1 4 0 1 0 4 0 1 0 4 0 0 0
4 0 0 0 0 0 0 4 0 1 1 4 0 1 0 4 0 1 0 4 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 0 0 4 1 0 0 4 0 0 0 4 0 0 0 4 0 0 0 4 0 1 0
0 1 1 4 0 0 0 4 1 0 0 4 0 0 0 4 0 1 1 4 0 0 0
0 0 0 4 0 0 0 4 1 0 0 4 0 0 1 4 0 0 0 4 0 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 0 0 4 1 0 0 4 0 0 0 4 1 1 0 4 0 1 1 4 0 1 0
0 0 0 4 0 1 1 4 0 1 1 4 1 0 0 4 1 0 0 4 0 1 0
0 0 0 4 0 1 1 4 0 1 0 4 1 0 0 4 1 0 0 4 0 0 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 0 0 4 1 1 0 4 0 0 0 4 0 0 0 4 1 0 0 4 0 0 1
0 1 0 4 1 0 1 4 0 1 0 4 0 1 0 4 0 0 1 4 1 0 0
1 0 0 4 1 0 0 4 0 1 0 4 0 0 0 4 0 0 0 4 1 0 1
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 0 0 4 1 1 0 4 1 0 0 4 1 0 0 4 0 0 1 4 1 1 0
1 1 0 4 1 0 1 4 0 0 1 4 0 1 0 4 1 1 0 4 1 0 1
1 0 0 4 1 1 1 4 0 1 0 4 0 1 1 4 1 1 1 4 0 0 0
```


## train_3

**input:**
```
1 0 0 4 0 0 1 4 1 1 1 4 1 1 0 4 1 0 0 4 0 0 0
1 1 0 4 1 0 0 4 1 0 0 4 0 1 0 4 1 1 0 4 0 1 1
0 1 1 4 1 0 0 4 1 0 1 4 0 1 0 4 0 0 0 4 1 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 0 0 4 1 1 1 4 0 0 1 4 1 0 0 4 1 0 0 4 1 0 0
1 0 0 4 1 1 0 4 0 1 0 4 1 1 0 4 1 0 1 4 0 1 0
1 1 0 4 0 1 1 4 1 0 0 4 0 0 1 4 1 0 1 4 0 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 1 1 4 1 1 0 4 1 1 0 4 0 1 0 4 1 1 0 4 0 1 0
1 1 0 4 0 0 1 4 0 0 1 4 1 0 1 4 0 1 1 4 0 1 0
0 1 1 4 1 1 0 4 0 1 0 4 0 1 0 4 0 0 0 4 0 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 1 1 4 1 0 1 4 0 0 0 4 0 0 0 4 1 0 0 4 1 0 0
1 0 1 4 1 0 1 4 0 1 1 4 0 0 1 4 1 0 0 4 1 0 0
0 1 1 4 0 1 0 4 1 1 0 4 0 0 1 4 1 1 1 4 1 0 1
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 3 3 0 0 0 0 4 1 1 1 4 1 0 1 4 0 0 1 4 0 1 1
4 3 3 0 0 0 0 4 1 1 1 4 0 1 1 4 1 1 0 4 1 0 0
4 0 0 3 3 0 0 4 0 1 0 4 0 0 1 4 1 1 1 4 0 0 0
4 0 0 3 3 0 0 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 0 0 0 0 3 3 4 0 1 1 4 0 0 0 4 0 1 0 4 0 1 0
4 0 0 0 0 3 3 4 1 0 1 4 0 0 0 4 1 0 1 4 1 1 1
4 4 4 4 4 4 4 4 1 1 0 4 1 0 0 4 0 1 0 4 1 1 0
```


**output:**
```
3 0 0 4 0 0 1 4 1 1 1 4 1 1 0 4 1 0 0 4 0 0 0
1 3 0 4 1 0 0 4 1 0 0 4 0 1 0 4 1 1 0 4 0 1 1
0 1 3 4 1 0 0 4 1 0 1 4 0 1 0 4 0 0 0 4 1 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 0 0 4 3 1 1 4 0 0 1 4 3 0 0 4 1 0 0 4 1 0 0
1 0 0 4 1 3 0 4 0 1 0 4 1 3 0 4 1 0 1 4 0 1 0
1 1 0 4 0 1 3 4 1 0 0 4 0 0 3 4 1 0 1 4 0 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
0 1 1 4 1 1 0 4 1 1 0 4 0 1 0 4 1 1 0 4 0 1 0
1 1 0 4 0 0 1 4 0 0 1 4 1 0 1 4 0 1 1 4 0 1 0
0 1 1 4 1 1 0 4 0 1 0 4 0 1 0 4 0 0 0 4 0 1 0
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
1 1 1 4 1 0 1 4 0 0 0 4 0 0 0 4 1 0 0 4 1 0 0
1 0 1 4 1 0 1 4 0 1 1 4 0 0 1 4 1 0 0 4 1 0 0
0 1 1 4 0 1 0 4 1 1 0 4 0 0 1 4 1 1 1 4 1 0 1
4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 3 3 0 0 0 0 4 1 1 1 4 3 0 1 4 0 0 1 4 0 1 1
4 3 3 0 0 0 0 4 1 1 1 4 0 3 1 4 1 1 0 4 1 0 0
4 0 0 3 3 0 0 4 0 1 0 4 0 0 3 4 1 1 1 4 0 0 0
4 0 0 3 3 0 0 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
4 0 0 0 0 3 3 4 0 1 1 4 0 0 0 4 0 1 0 4 0 1 0
4 0 0 0 0 3 3 4 1 0 1 4 0 0 0 4 1 0 1 4 1 1 1
4 4 4 4 4 4 4 4 1 1 0 4 1 0 0 4 0 1 0 4 1 1 0
```

**Perception:**

1.  **Grid Structure:** The input and output grids are large (23x23). They feature horizontal lines of yellow pixels (color 4) that act as dividers, creating rows of smaller subgrids.
2.  **Subgrids:** Between the yellow dividers, the grid is composed of 3x3 pixel areas separated by columns of yellow pixels. These 3x3 areas are the primary focus of the transformation.
3.  **Colors:**
    *   White (0) acts as a background within the 3x3 subgrids.
    *   Blue (1) pixels form patterns within the 3x3 subgrids. These are the pixels potentially targeted for change.
    *   Yellow (4) pixels form the structural grid lines (horizontal and vertical separators). They remain unchanged.
    *   A "target" color exists uniquely in each example's input grid (Magenta=6 in `train_1`, Azure=8 in `train_2`, Green=3 in `train_3`). These target colors also appear in the output, replacing specific blue pixels. These target colors also appear as pre-existing shapes/pixels in the input grid, which seem unaffected by the transformation logic itself.
4.  **Transformation:** The core transformation involves changing *one specific* blue pixel (1) within each 3x3 subgrid to the "target" color identified for that specific training example.
5.  **Pixel Selection Rule:** The blue pixel selected for change within each 3x3 subgrid is the one located at the minimum row index within that subgrid. If multiple blue pixels share the minimum row index, the one with the minimum column index is chosen (i.e., the top-leftmost blue pixel).
6.  **Target Color Determination:** The color used to replace the selected blue pixel is derived from the input grid itself. It's the unique color present in the input grid other than white (0), blue (1), or yellow (4).

**Facts YAML:**


```yaml
Grid:
  Properties:
    - Size: 23x23 (in examples)
    - Structure: Contains horizontal and vertical separator lines.
  Separators:
    - Color: Yellow (4)
    - Orientation: Horizontal lines every 4th row (indices 3, 7, 11, 15, 19, 22 - though 22 is the last row), Vertical lines every 4th column (indices 3, 7, 11, 15, 19, 22).
Subgrids:
  Definition: 3x3 areas located between the yellow separator lines.
  Contents:
    - Primary Colors: White (0), Blue (1)
Objects:
  - Type: Blue Pixels
    Color: 1
    Location: Within 3x3 subgrids.
    Role: Subject of transformation.
  - Type: Target Color Pixels
    Color: Varies per example (Magenta=6, Azure=8, Green=3)
    Location: Can exist as distinct shapes/pixels in the input grid AND is the result color for the transformation.
    Role: Defines the output color for the transformation.
  - Type: Separator Pixels
    Color: Yellow (4)
    Role: Define grid structure, unchanged.
  - Type: Background Pixels
    Color: White (0)
    Role: Background within subgrids, unchanged.
Action:
  - Name: Color Change
  - Input Pixel: The specific Blue (1) pixel within each 3x3 subgrid that has the minimum row index, and among those, the minimum column index (top-leftmost blue pixel).
  - Output Color: The unique color present in the *entire input grid* that is NOT White (0), Blue (1), or Yellow (4).
Relationship:
  - The target color for the transformation is determined by finding a unique, non-structural, non-primary color present anywhere in the input grid.
  - The transformation applies independently to each 3x3 subgrid defined by the yellow separators.
```


**Natural Language Program:**

1.  Identify the "target" color by scanning the entire input grid and finding the single color value that is not white (0), blue (1), or yellow (4). Store this target color.
2.  Iterate through the grid, identifying the boundaries of each 3x3 subgrid located between the yellow (4) separator lines.
3.  For each 3x3 subgrid:
    a.  Find all blue (1) pixels within that subgrid.
    b.  If no blue pixels are present, proceed to the next subgrid.
    c.  If blue pixels are present, determine the minimum row index among them (relative to the start of the grid).
    d.  Identify all blue pixels located at this minimum row index.
    e.  Among these, determine the minimum column index.
    f.  Locate the single blue pixel at this minimum row and minimum column index within the subgrid.
    g.  Change the color of this identified blue pixel to the "target" color identified in step 1.
4.  Leave all other pixels (white, yellow, original target color pixels, and non-selected blue pixels) unchanged.
5.  Output the modified grid.
