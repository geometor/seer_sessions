task_description: "Fill enclosed white regions within azure boundaries using a specific fill color found elsewhere in the grid."
elements:
  - element: "grid"
    description: "A 2D array of pixels with integer values 0-9 representing colors."
    properties:
      - "dimensions remain constant between input and output."
  - element: "pixels"
    description: "Individual cells within the grid."
    properties:
      - color: "represented by integers 0-9."
      - value_0: "White (background/empty space)"
      - value_8: "Azure (boundary color)"
      - other_value: "A single distinct color per grid (Magenta 6, Yellow 4, Green 3) acting as the fill color."
objects:
  - object: "boundary"
    description: "Structures formed by contiguous Azure (8) pixels."
    properties:
      - "Define enclosed regions."
  - object: "enclosed_region"
    description: "Contiguous areas of White (0) pixels completely surrounded by Azure (8) pixels."
    properties:
      - "Do not touch the grid edge."
      - "All orthogonally adjacent non-white pixels are Azure (8)."
  - object: "fill_color_source"
    description: "Pixels of the unique color (not White 0, not Azure 8) present in the input."
    properties:
      - "Determines the color used for filling."
actions:
  - action: "identify_boundary_color"
    actor: "system"
    target: "input_grid"
    result: "Azure (8)"
  - action: "identify_fill_color"
    actor: "system"
    target: "input_grid"
    result: "The single color that is not White (0) or Azure (8)."
  - action: "find_enclosed_white_regions"
    actor: "system"
    target: "input_grid"
    condition: "Regions must be composed of White (0) pixels and fully enclosed by the boundary color (Azure 8)."
  - action: "fill_regions"
    actor: "system"
    target: "enclosed_white_regions"
    effect: "Change the color of pixels within these regions to the identified fill color."
    output: "output_grid"
relationships:
  - type: "enclosure"
    subject: "boundary (Azure 8 pixels)"
    object: "enclosed_region (White 0 pixels)"
  - type: "determines"
    subject: "fill_color_source"
    object: "color_of_filled_regions"
  - type: "preservation"
    subject: "boundary (Azure 8 pixels)"
    description: "Boundary pixels remain unchanged in the output."
  - type: "preservation"
    subject: "fill_color_source pixels"
    description: "Original fill color pixels remain unchanged in the output."
  - type: "preservation"
    subject: "unenclosed_white_pixels"
    description: "White pixels not part of an enclosed region remain unchanged."