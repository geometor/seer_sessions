
## train_1

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 4 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 2 2 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 2 2 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 8 8 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 8 8 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 4 0 0 0 0 0 4 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 2 3 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 3 8 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
4 0 0 0 0 0 4
0 2 2 3 3 0 0
0 2 2 3 3 0 0
0 3 3 8 8 0 0
0 3 3 8 8 0 0
0 0 0 0 0 0 0
4 0 0 0 0 0 4
```


## train_2

**input:**
```
0 0 4 0 0 0 0 0 0 0 0 0 0 0 0 4 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 3 3 0 0 0 0 0 0 2 2 0 0 0 0
0 0 0 3 3 0 0 0 0 0 0 2 2 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0
0 0 4 0 0 0 0 0 0 0 0 0 0 0 0 4 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 3 0 0 0 2 0 0 0 0 0 0 0 0 0 0
0 0 1 1 0 1 1 0 0 0 0 0 0 0 0 0 0
0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
4 0 0 0 0 0 0 0 0 0 0 0 0 4
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 3 3 0 0 0 0 0 0 2 2 0 0 0
0 3 3 0 0 0 0 0 0 2 2 0 0 0
0 1 1 1 1 0 0 1 1 1 1 0 0 0
0 1 1 1 1 0 0 1 1 1 1 0 0 0
0 0 0 1 1 1 1 1 1 0 0 0 0 0
0 0 0 1 1 1 1 1 1 0 0 0 0 0
4 0 0 0 0 0 0 0 0 0 0 0 0 4
```


## train_3

**input:**
```
0 0 0 4 0 0 0 0 0 0 0 0 0 4 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 2 2 2 0 0 0 1 1 1 0 0 0 0 0
0 0 0 0 2 2 2 0 0 0 1 1 1 0 0 0 0 0
0 0 0 0 2 2 2 0 0 0 1 1 1 0 0 0 0 0
0 0 0 0 0 0 0 3 3 3 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 3 3 3 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 3 3 3 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 4 0 0 0 0 0 0 0 0 0 4 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 2 1 1 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 3 1 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
4 0 0 0 0 0 0 0 0 0 4
0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0
0 2 2 2 1 1 1 1 1 1 0
0 2 2 2 1 1 1 1 1 1 0
0 2 2 2 1 1 1 1 1 1 0
0 0 0 0 3 3 3 1 1 1 0
0 0 0 0 3 3 3 1 1 1 0
0 0 0 0 3 3 3 1 1 1 0
0 0 0 0 0 0 0 0 0 0 0
4 0 0 0 0 0 0 0 0 0 4
```

**Perception:**

1.  **Input Structure:** Each input grid contains a background of white pixels (0) and several distinct objects made of colored pixels (1-9).
2.  **Key Elements:** A consistent feature across all inputs is the presence of exactly four yellow pixels (4). These yellow pixels appear to act as markers or delimiters. Other colored objects (red, green, blue, azure, etc.) are scattered within the grid.
3.  **Output Structure:** The output grid is significantly smaller than the input grid. It contains a subset of the objects present in the input, including the yellow pixels.
4.  **Transformation:** The transformation seems to involve extracting a specific rectangular region from the input grid. The boundaries of this region appear to be defined by the positions of the four yellow pixels.
5.  **Bounding Box:** The four yellow pixels define the corners of a bounding box. The top-left corner of the output corresponds to the top-left-most yellow pixel in the input, and the bottom-right corner corresponds to the bottom-right-most yellow pixel.
6.  **Content Extraction:** All pixels within this bounding box in the input grid, including the yellow corner pixels themselves, are copied to the output grid, maintaining their relative positions. Pixels outside this bounding box are discarded.

**Facts:**


```yaml
elements:
  - type: grid
    role: input
    properties:
      - contains background pixels (white, 0)
      - contains distinct colored objects
      - always contains exactly four yellow pixels (4)
  - type: grid
    role: output
    properties:
      - smaller dimensions than input
      - contains a subset of input objects
      - includes the four yellow pixels from the input
  - type: object
    identifier: yellow pixel
    color: yellow (4)
    count: 4
    role: marker
    properties:
      - define the corners of a rectangular region in the input grid
  - type: object
    identifier: colored region
    properties:
      - consists of contiguous non-white pixels
      - located within the input grid
actions:
  - name: find_markers
    input: input grid
    target: yellow pixels (4)
    output: coordinates of the four yellow pixels
  - name: determine_bounding_box
    input: coordinates of the four yellow pixels
    process: find the minimum and maximum row and column indices among the marker coordinates
    output: top-left (min_row, min_col) and bottom-right (max_row, max_col) coordinates of the bounding box
  - name: extract_subgrid
    input:
      - input grid
      - bounding box coordinates (min_row, min_col, max_row, max_col)
    process: select all pixels from the input grid within the rows from min_row to max_row (inclusive) and columns from min_col to max_col (inclusive)
    output: output grid
relationships:
  - The output grid is a subgrid of the input grid.
  - The extent (boundaries) of the output grid is determined by the spatial extent of the four yellow pixels in the input grid.
  - Objects located inside the bounding box defined by the yellow pixels in the input are preserved in the output.
  - Objects located outside the bounding box are discarded.
```


**Natural Language Program:**

1.  Identify the locations (row and column indices) of all four yellow pixels (color 4) in the input grid.
2.  Determine the minimum row index, maximum row index, minimum column index, and maximum column index among the locations of the four yellow pixels. These define the boundaries of the target subgrid.
3.  Create a new grid (the output grid) whose dimensions are determined by these boundary indices (height = max_row - min_row + 1, width = max_col - min_col + 1).
4.  Copy the pixels from the input grid within the identified boundaries (from min_row to max_row and min_col to max_col, inclusive) to the new output grid, preserving their relative positions.
