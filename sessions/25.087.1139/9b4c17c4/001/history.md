
## train_1

**input:**
```
8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8
8 8 2 2 8 8 8 8 8 8 8
8 8 2 2 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 2 2 2 8 8 8
8 8 8 8 8 2 2 2 8 8 8
8 8 8 8 8 8 8 8 8 8 8
1 1 1 1 1 1 1 1 1 1 1
1 1 1 2 2 1 1 1 1 1 1
1 1 1 2 2 1 1 1 1 1 1
1 1 1 1 1 1 1 1 2 1 1
```


**output:**
```
8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8
2 2 8 8 8 8 8 8 8 8 8
2 2 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8
2 2 2 8 8 8 8 8 8 8 8
2 2 2 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8
1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 2 2
1 1 1 1 1 1 1 1 1 2 2
1 1 1 1 1 1 1 1 1 1 2
```


## train_2

**input:**
```
1 1 1 1 1 1 1 8 8 8 8 8 8
1 1 1 1 1 1 1 8 8 2 2 8 8
1 1 1 1 1 1 1 8 8 2 2 8 8
1 1 2 2 1 1 1 8 8 2 2 8 8
1 1 2 2 1 1 1 8 8 8 8 8 8
1 1 1 1 1 1 1 8 8 8 8 8 8
1 1 2 2 2 1 1 8 8 8 8 8 8
1 1 2 2 2 1 1 8 8 8 8 8 8
1 1 1 1 1 1 1 8 2 2 8 8 8
1 1 1 1 1 1 1 8 2 2 8 8 8
1 1 1 1 1 1 1 8 8 8 8 8 8
```


**output:**
```
1 1 1 1 1 1 1 8 8 8 8 8 8
1 1 1 1 1 1 1 2 2 8 8 8 8
1 1 1 1 1 1 1 2 2 8 8 8 8
1 1 1 1 1 2 2 2 2 8 8 8 8
1 1 1 1 1 2 2 8 8 8 8 8 8
1 1 1 1 1 1 1 8 8 8 8 8 8
1 1 1 1 2 2 2 8 8 8 8 8 8
1 1 1 1 2 2 2 8 8 8 8 8 8
1 1 1 1 1 1 1 2 2 8 8 8 8
1 1 1 1 1 1 1 2 2 8 8 8 8
1 1 1 1 1 1 1 8 8 8 8 8 8
```


## train_3

**input:**
```
8 8 8 8 8 8 1 1 1 1 1 1 1 1
8 8 8 8 8 8 1 1 1 1 1 1 1 1
8 8 2 2 8 8 1 1 1 1 2 2 1 1
8 8 2 2 8 8 1 1 1 1 2 2 1 1
8 8 2 2 8 8 1 1 1 1 1 1 1 1
8 8 2 2 8 8 1 1 1 1 1 1 1 1
8 8 8 8 8 8 1 1 2 2 2 1 1 1
8 2 2 8 8 8 1 1 2 2 2 1 1 1
8 2 2 8 8 8 1 1 1 1 1 1 1 1
8 8 8 8 8 8 1 1 1 1 1 2 2 1
8 8 8 8 8 8 1 1 1 1 1 1 1 1
8 8 8 8 8 8 1 1 1 1 1 1 1 1
```


**output:**
```
8 8 8 8 8 8 1 1 1 1 1 1 1 1
8 8 8 8 8 8 1 1 1 1 1 1 1 1
2 2 8 8 8 8 1 1 1 1 1 1 2 2
2 2 8 8 8 8 1 1 1 1 1 1 2 2
2 2 8 8 8 8 1 1 1 1 1 1 1 1
2 2 8 8 8 8 1 1 1 1 1 1 1 1
8 8 8 8 8 8 1 1 1 1 1 2 2 2
2 2 8 8 8 8 1 1 1 1 1 2 2 2
2 2 8 8 8 8 1 1 1 1 1 1 1 1
8 8 8 8 8 8 1 1 1 1 1 1 2 2
8 8 8 8 8 8 1 1 1 1 1 1 1 1
8 8 8 8 8 8 1 1 1 1 1 1 1 1
```


## train_4

**input:**
```
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 2 2 1 1 1 1 1 1 1 1 1 1
1 1 1 2 2 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 2 2 2 1 1 1 1 1
1 1 1 1 1 1 1 2 2 2 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 2 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 2 2 2 8 8 8 8 8
8 8 8 8 8 8 8 2 2 2 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
```


**output:**
```
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 2 2
1 1 1 1 1 1 1 1 1 1 1 1 1 2 2
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 2 2 2
1 1 1 1 1 1 1 1 1 1 1 1 2 2 2
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
2 8 8 8 8 8 8 8 8 8 8 8 8 8 8
2 2 2 8 8 8 8 8 8 8 8 8 8 8 8
2 2 2 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8
```

Okay, let's break down the transformation logic for this task.

**Perception of Elements:**

*   **Grid Structure:** The input and output grids often contain distinct regions defined by background colors, primarily blue (1) and gray (8). These regions can divide the grid horizontally or vertically.
*   **Objects:** The key objects are contiguous blocks of red (2) pixels. These objects vary in shape and size (e.g., 2x2 squares, 2x3 rectangles, single pixels).
*   **Background Interaction:** Each red object exists entirely within one of the background color regions (either blue or gray).
*   **Transformation:** The core transformation involves moving the red objects horizontally. The direction of movement depends on the background color the object is situated on. Objects retain their original shape, size, and vertical position.

**YAML Facts:**


```yaml
task_context:
  grid_dimensions: Variable (e.g., 12x11, 11x13, 12x14, 15x15 in examples)
  background_colors: [blue (1), gray (8)]
  object_color: red (2)
  partitioning: Grid is partitioned into distinct regions based on background color (blue or gray). Partitions can be horizontal or vertical splits.

objects:
  - type: cluster
    color: red (2)
    properties:
      - shape: variable (rectangles of various sizes observed)
      - location: resides entirely within either a blue or gray background region.

relationships:
  - object_background: Each red object is associated with the background color (blue or gray) of the region it occupies.

actions:
  - identify: Locate all red objects.
  - determine_background: For each red object, find the color of the background it sits on.
  - move_object: Relocate each red object horizontally based on its background color.
    - condition: If the background is gray (8), move the object to the left edge of the grid.
    - condition: If the background is blue (1), move the object to the right edge of the grid.
  - maintain_properties: Preserve the object's shape, size, and vertical position during the move.

output_grid:
  - composition: Reconstruct the grid using the original background colors and the new positions of the red objects.
```


**Natural Language Program:**

1.  **Initialize Output:** Create an output grid identical to the input grid's background layout (all blue and gray areas remain the same).
2.  **Identify Objects:** Find all distinct, contiguous groups of red (2) pixels in the input grid.
3.  **Process Each Object:** For every red object identified:
    *   Determine the background color (blue (1) or gray (8)) of the area the object is located within.
    *   If the background color is gray (8), calculate the object's leftmost column index. Move the entire object horizontally so its leftmost column aligns with column 0 of the grid. Maintain its original vertical row position(s) and shape.
    *   If the background color is blue (1), calculate the object's rightmost column index. Move the entire object horizontally so its rightmost column aligns with the last column index (grid width - 1) of the grid. Maintain its original vertical row position(s) and shape.
    *   Draw the moved object onto the output grid, overwriting the background pixels at the new location.
4.  **Return Output:** The final output grid contains the original backgrounds with all red objects repositioned according to the rules.
