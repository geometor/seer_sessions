Grid:
  Properties:
    - Size: Variable height and width (up to 30x30).
    - BackgroundColor: white (0).
  Objects:
    - Pattern:
        - Type: Subgrid
        - Size: 3x3
        - Composition: Contiguous block of only blue (1) and azure (8) pixels.
        - Uniqueness: Assumed to be only one such pattern per grid.
        - Properties:
            - blue_count: Number of blue pixels in the pattern.
            - azure_count: Number of azure pixels in the pattern.
            - center_coords: Coordinates of the central pixel of the 3x3 pattern.
        - Actions:
            - Identify location (top-left corner).
            - Count blue and azure pixels.
            - Rotate in place based on pixel counts.
    - Markers:
        - Type: Individual Pixels
        - Color: yellow (4)
        - Distribution: Scattered across the grid.
        - Quantity: Zero or more.
        - Properties:
            - locations: List of (row, column) coordinates.
            - median_location: (median_row, median_col) calculated from locations.
        - Actions:
            - Identify all locations.
            - Calculate median location.
            - Apply custom rounding to median location based on pattern center.
            - Remove all original markers.
            - Place a single new marker at the final rounded median location.
Transformation:
  - Step 1: Identify the 3x3 blue/azure pattern and its location.
  - Step 2: Count blue and azure pixels within the pattern.
  - Step 3: Rotate the pattern based on the counts:
      - If blue_count > azure_count, rotate 90 degrees counter-clockwise.
      - If azure_count >= blue_count, rotate 180 degrees.
  - Step 4: If yellow markers exist:
      - Find all yellow marker locations.
      - Calculate the median row and column.
      - Determine the pattern's center coordinates.
      - Apply custom rounding to the median coordinates (round .5 values towards the pattern center coordinate, otherwise use standard rounding).
      - Remove all original yellow markers.
      - Place a single yellow marker at the calculated final coordinates.
  - Step 5: Output the modified grid.