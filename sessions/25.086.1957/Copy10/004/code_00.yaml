task_description: Identify a 'template' structure consisting of a 'container' object and a 'content' object within it. Find other 'target' objects in the grid that are identical to the 'content' object but are outside the original 'container'. For each unique target found, copy the 'template' structure (both container and content) and paste it onto the grid such that the copied content perfectly replaces the target object, maintaining the relative position of the container around the content.

example_1:
  input:
    objects:
      - id: 0, color: green, shape: hollow rectangle (8x8), bbox: [2,2,9,9]
      - id: 1, color: red, shape: solid square (4x4), bbox: [4,4,7,7]
      - id: 2, color: red, shape: solid square (4x4), bbox: [4,14,7,17]
    relationships:
      - type: containment
        container: object 0 (green rectangle)
        content: object 1 (red square)
        criteria_met: # Based on successful code execution
          - Bbox inclusion (strict)
          - Different colors
          - No coordinate overlap
          - Content not adjacent to border
          - Content not adjacent to background reachable from border
      - type: identity
        object1: object 1 (content)
        object2: object 2 (target)
        criteria_met:
          - Same color (red)
          - Same relative mask and size
      - type: relative_position
        reference: object 0 (container)
        target: object 1 (content)
        offset_content_vs_container_topleft: [2, 2] # (4-2, 4-2)
      - type: location
        object: object 2 (target)
        location: outside object 0 (container)
  output:
    actions:
      - action: copy_paste_structure
        source_container: object 0
        source_content: object 1
        target_object: object 2
        paste_details:
          - Paste container (object 0 shape/color) centered around target (object 2) using the relative offset [2,2]. Container TopLeft: (target_min_r - 2, target_min_c - 2) = (4-2, 14-2) = (2, 12). Bbox: [2,12,9,19].
          - Paste content (object 1 shape/color) replacing target (object 2). Content TopLeft: (target_min_r, target_min_c) = (4, 14). Bbox: [4,14,7,17].
    grid_changes: A new green rectangle and red square appear, replacing the standalone red square on the right.

example_2:
  input:
    objects:
      - id: 0, color: yellow, shape: hollow diamond (7x7), bbox: [1,0,7,6]
      - id: 1, color: blue, shape: plus sign (3x3), bbox: [3,2,5,4]
      - id: 2, color: blue, shape: plus sign (3x3), bbox: [11,2,13,4]
    relationships:
      - type: containment # Expected relationship, but failed by original code's check_containment
        container: object 0 (yellow diamond)
        content: object 1 (blue plus)
        # Original check_containment failure: Content object 1 is adjacent to background at (5,4) which is reachable from the border.
        # However, visually and per task goal, it IS contained.
        # Also note: Content 1 and Container 0 are adjacent.
      - type: identity
        object1: object 1 (content)
        object2: object 2 (target)
        criteria_met:
          - Same color (blue)
          - Same relative mask and size
      - type: relative_position
        reference: object 0 (container)
        target: object 1 (content)
        offset_content_vs_container_topleft: [2, 2] # (3-1, 2-0)
      - type: location
        object: object 2 (target)
        location: outside object 0 (container)
  output: # Expected output, not achieved by original code
    actions:
      - action: copy_paste_structure
        source_container: object 0
        source_content: object 1
        target_object: object 2
        paste_details:
          - Paste container (object 0 shape/color) centered around target (object 2) using the relative offset [2,2]. Container TopLeft: (target_min_r - 2, target_min_c - 2) = (11-2, 2-0) = (9, 0). Bbox: [9,0,15,6].
          - Paste content (object 1 shape/color) replacing target (object 2). Content TopLeft: (target_min_r, target_min_c) = (11, 2). Bbox: [11,2,13,4].
    grid_changes: A new yellow diamond and blue plus appear, replacing the standalone blue plus at the bottom.
