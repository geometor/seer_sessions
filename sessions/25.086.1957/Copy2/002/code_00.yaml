task_description: Copy a pattern defined by non-background, non-frame pixels into a hole within an azure frame.

definitions:
  - name: background_pixel
    type: pixel
    properties:
      color: 0 (white)
  - name: frame_pixel
    type: pixel
    properties:
      color: 8 (azure)
  - name: pattern_pixel
    type: pixel
    properties:
      color: any color except 0 (white) and 8 (azure)
  - name: azure_frame
    type: object
    description: A contiguous object composed of frame_pixels (color 8) that encloses a rectangular area.
  - name: hole
    type: region
    description: A rectangular area within the azure_frame's bounding box composed entirely of background_pixels (color 0). It must be fully enclosed by the frame_pixels or the grid boundaries relative to the frame.
  - name: pattern_area
    type: region
    description: The minimal bounding box enclosing all pattern_pixels in the input grid.
  - name: pattern_subgrid
    type: grid
    description: The rectangular subgrid extracted from the input grid corresponding to the pattern_area. Includes all pixels within that area, regardless of color.

actions:
  - name: find_azure_frame_and_hole
    input: input_grid
    output: 
      - azure_frame object
      - hole region (bounding box)
    description: Identify the azure_frame object and locate the rectangular hole region within it.
  - name: find_pattern_pixels
    input: input_grid
    output: set of pattern_pixel coordinates
    description: Identify all pixels in the grid that are not background_pixel and not frame_pixel.
  - name: determine_pattern_area
    input: set of pattern_pixel coordinates
    output: pattern_area (bounding box)
    description: Calculate the minimal bounding box containing all pattern_pixels.
  - name: extract_pattern_subgrid
    input: 
      - input_grid
      - pattern_area (bounding box)
    output: pattern_subgrid (2D array)
    description: Extract the subgrid from the input_grid defined by the pattern_area.
  - name: prepare_output_grid
    input: input_grid
    output: output_grid
    description: Create a copy of the input_grid.
  - name: paste_pattern_into_hole
    input:
      - output_grid (mutable)
      - pattern_subgrid
      - hole region (bounding box)
    output: modified output_grid
    description: Paste the pattern_subgrid onto the output_grid. The top-left corner of the pattern_subgrid is placed at the top-left corner of the hole region. All pixels from the pattern_subgrid overwrite the existing pixels in the output_grid within the paste area.

input_output_relationship:
  - The output grid initially mirrors the input grid.
  - The transformation involves copying the pattern_subgrid (defined by the bounding box of all non-background, non-azure pixels) and pasting it into the hole found within the azure_frame.