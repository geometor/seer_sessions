observations:
  - task: "Move foreground elements to top, maintaining relative order within regions"
  - regions:
    - description: "Input grids may be divided into two regions based on contiguous background color."
    - detection: "A region division exists if there's a horizontal line of a single color separating different colored areas."
    - method: "Iterate through rows. A fully single-colored row marks a region boundary."
  - background:
    - description: "The background color of each region can vary."
    - determination: "The most frequent color in a region, or corner colors (top-left/bottom-left), are good indicators for background."
  - foreground:
    - definition: "Pixels that do not match the region's background color."
    - behavior: "Foreground colors can be repeated within regions."
  - movement:
    - direction: "Foreground pixels move towards the top of the grid."
    - stacking: "Pixels are stacked, filling available spaces from left to right in the bottom region, and right to left in the top region."
    - priority: "Relative horizontal position within the original region is maintained."
    - boundary: "Foreground pixels may populate any space in the output region."
  - output:
      - background: "The background of the output grid is all 0 (black)."
