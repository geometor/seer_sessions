import numpy as np

def find_object(grid, color):
    # Find all pixels of the specified color
    coords = np.argwhere(grid == color)
    if coords.size == 0:
        return [], 0, 0, 0, 0
    
    # Use a simple bounding box approach to define the object
    min_row = np.min(coords[:, 0])
    max_row = np.max(coords[:, 0])
    min_col = np.min(coords[:, 1])
    max_col = np.max(coords[:, 1])

    object_coords = []

    for r in range(min_row, max_row + 1):
        for c in range(min_col, max_col+1):
            if grid[r,c] == color:
                object_coords.append((r,c))


    return object_coords, min_row, min_col, max_row-min_row+1, max_col-min_col+1

def analyze_example(input_grid, output_grid):
    input_grid = np.array(input_grid)
    output_grid = np.array(output_grid)

    obj_coords, obj_min_row, obj_min_col, obj_height, obj_width = find_object(input_grid, 5)
    out_coords, out_min_row, out_min_col, out_height, out_width = find_object(output_grid, 5)


    print(f"  Grey Object:")
    print(f"    Coordinates: {obj_coords}")
    print(f"    Top-Left Corner: ({obj_min_row}, {obj_min_col})")
    print(f"    Height: {obj_height}, Width: {obj_width}")
    print(f" Output Object:")
    print(f"    Coordinates: {out_coords}")
    print(f"    Top-Left Corner: ({out_min_row}, {out_min_col})")
    print(f"    Height: {out_height}, Width: {out_width}")
    print(f"  Output Grid Size: {output_grid.shape}")

#Example Usage
task = {
  "train": [
    {
      "input": [
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 5, 5, 5, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 5, 5, 5, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 5, 5, 5, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
      ],
      "output": [
        [5, 5, 5],
        [5, 5, 5],
        [5, 5, 5]
      ]
    },
    {
      "input": [
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 5, 5, 0, 0, 0],
        [0, 0, 0, 0, 5, 5, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0]
      ],
      "output": [
        [5, 5],
        [5, 5]
      ]
    },
    {
      "input": [
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
      ],
      "output": [
        [5]
      ]
    },
      {
      "input": [
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 5, 5, 5, 5, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
      ],
      "output": [
        [5,5,5,5]
      ]
    }
  ],
  "test": [
    {
      "input": [
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 5, 5, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 5, 5, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
      ],
      "output": [
        [5, 5],
        [5, 5]
      ]
    }
  ]
}

for i, example in enumerate(task["train"]):
    print(f"Example {i+1}:")
    analyze_example(example["input"], example["output"])
