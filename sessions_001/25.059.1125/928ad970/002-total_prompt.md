# 928ad970 • 002 • example_3 • investigate_coder

---

## train_1

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 5 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 1 1 1 0 0 0 0 0
0 0 0 0 0 1 0 1 0 0 0 0 0
0 5 0 0 0 1 0 1 0 0 0 5 0
0 0 0 0 0 1 1 1 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 5 0 0 0 0 0 0 0 0
```

<PIL.Image.Image image mode=RGB size=832x768 at 0x7F4C1B77AAD0>

**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 5 0 0 0 0 0 0 0 0
0 0 1 1 1 1 1 1 1 1 1 0 0
0 0 1 0 0 0 0 0 0 0 1 0 0
0 0 1 0 0 1 1 1 0 0 1 0 0
0 0 1 0 0 1 0 1 0 0 1 0 0
0 5 1 0 0 1 0 1 0 0 1 5 0
0 0 1 0 0 1 1 1 0 0 1 0 0
0 0 1 0 0 0 0 0 0 0 1 0 0
0 0 1 0 0 0 0 0 0 0 1 0 0
0 0 1 1 1 1 1 1 1 1 1 0 0
0 0 0 0 5 0 0 0 0 0 0 0 0
```

<PIL.Image.Image image mode=RGB size=832x768 at 0x7F4C1B77A4D0>

## train_2

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 5 0 0 3 3 3 0 0 0 0 0 0
0 0 0 0 3 0 3 0 0 0 0 0 0
0 0 0 0 3 3 3 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 5 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
```

<PIL.Image.Image image mode=RGB size=832x960 at 0x7F4C1B77B150>

**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 0
0 0 3 3 3 3 3 3 3 3 0 0 0
0 0 3 0 0 0 0 0 0 3 0 0 0
0 0 3 0 0 0 0 0 0 3 0 0 0
0 5 3 0 3 3 3 0 0 3 0 0 0
0 0 3 0 3 0 3 0 0 3 0 0 0
0 0 3 0 3 3 3 0 0 3 0 0 0
0 0 3 0 0 0 0 0 0 3 5 0 0
0 0 3 0 0 0 0 0 0 3 0 0 0
0 0 3 0 0 0 0 0 0 3 0 0 0
0 0 3 3 3 3 3 3 3 3 0 0 0
0 0 0 0 0 5 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0
```

<PIL.Image.Image image mode=RGB size=832x960 at 0x7F4C1B779850>

## train_3

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 5 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 4 4 4 4 0 0 0 0 0 0
0 0 0 0 4 0 0 4 0 0 0 0 5 0
0 0 0 0 4 0 0 4 0 0 0 0 0 0
0 5 0 0 4 4 4 4 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 5 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
```

<PIL.Image.Image image mode=RGB size=896x960 at 0x7F4C1B77AFD0>

**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 5 0 0 0 0 0 0 0
0 0 4 4 4 4 4 4 4 4 4 4 0 0
0 0 4 0 0 0 0 0 0 0 0 4 0 0
0 0 4 0 4 4 4 4 0 0 0 4 0 0
0 0 4 0 4 0 0 4 0 0 0 4 5 0
0 0 4 0 4 0 0 4 0 0 0 4 0 0
0 5 4 0 4 4 4 4 0 0 0 4 0 0
0 0 4 0 0 0 0 0 0 0 0 4 0 0
0 0 4 0 0 0 0 0 0 0 0 4 0 0
0 0 4 0 0 0 0 0 0 0 0 4 0 0
0 0 4 4 4 4 4 4 4 4 4 4 0 0
0 0 0 0 0 0 0 5 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0
```

<PIL.Image.Image image mode=RGB size=896x960 at 0x7F4C1B77ABD0>
<PIL.Image.Image image mode=RGB size=2688x2000 at 0x7F4C1B77ADD0>Okay, let's analyze the provided input-output examples to discern the transformation rule.

**Perception of Elements:**

*   **Grids:** The input and output are both grids of varying dimensions, filled with single-digit integers (0-9), representing colors.
*   **Objects:** There are distinct colored regions within the grids. Some are single pixels (like color 5), and others are connected regions of the same color (like colors 1, 3, and 4).
*   **Background:** The color 0 (white) seems to act as a background.
*   **Transformation:** The transformation seems to involve "inflating" or "expanding" the colored regions (excluding color 5, gray) outwards, creating a border of the object's color around the original shape, one pixel at a time in all the non-diagonal directions. The gray (5) single pixels remain.

**YAML Fact Block:**


```yaml
objects:
  - type: grid
    properties:
      - colors: [0, 1, 3, 4, 5]  # Colors present in the grids
      - dimensions: variable # height x width
    elements:
      - type: pixel
        properties:
          - color: integer (0-9)
          - position: (row, column)
      - type: region
        properties:
          - color: integer
          - shape: connected_pixels
          - boundary: list_of_pixels

actions:
  - name: expand_region
    description: Expands a region's boundary outwards by one pixel in all non-diagonal directions.
    constraints:
      - Does not expand color 5 (gray).
      - Expands all other colors

relationships:
  - type: adjacency
    description: Pixels are considered adjacent if they share a side (not a corner).
  - type: containment
    description: A region contains all its connected pixels.
```


**Natural Language Program:**

1.  **Identify Regions:** For each input grid, identify all contiguous regions of pixels with the same color, excluding color 5 (gray).
2.  **Expand Boundary:** For each identified region (excluding the single gray pixels), expand its boundary outwards by one pixel in all non-diagonal directions. This means adding a one-pixel border of the same color around the existing region. Specifically, any background (color 0) pixel that is directly above, below, to the left, or to the right of a pixel in the region becomes the region's color.
3.  **Preserve Single Pixels:** The single gray (5) pixels remain unchanged.
4. **Output:** The modified grid after the expansion is the output.

In essence, the core transformation is an outward expansion (or "inflation") of colored regions by one pixel, while single gray pixels remain.

**INSTRUCTIONS**

- generate a Python module to represent the natural language program 
- follow the template below
- all common math and science libraries are available
- create docstring only at top - but comment the workflow in the function
- use helper functions for common operations like finding objects, counting,
  measuring, moving, etc. 

remember - we are working iteratively - so this code will inform your future
self as we converge on the solution

*template:*

```python
"""
{{ natural language description of the transformation rule }}
"""

{{ imports }}

def transform(input_grid):
    # initialize output_grid

    # change output pixels 

    return output_grid

```
