
## train_1

**input:**
```
0 0 0 0 0 4 0 0 0 0 0 0 0 0 0 0 0 4 0 0 0 0 0
0 0 0 0 4 0 4 0 0 0 0 0 0 0 0 0 4 0 4 0 0 0 0
0 0 0 4 0 0 0 4 0 0 0 0 0 0 0 4 0 0 0 4 0 0 0
0 0 4 2 0 0 0 2 4 0 0 0 0 0 4 0 0 0 0 0 4 0 0
0 4 0 2 0 0 0 2 0 4 0 0 0 4 0 0 2 2 2 0 0 4 0
4 0 0 2 0 0 0 2 0 0 4 0 4 0 0 0 0 0 0 0 0 0 4
0 4 0 2 0 0 0 2 0 4 0 0 0 4 0 0 0 0 0 0 0 4 0
0 0 4 2 0 0 0 2 4 0 0 0 0 0 4 2 2 2 2 2 4 0 0
0 0 0 4 0 0 0 4 0 0 0 0 0 0 0 4 0 0 0 4 0 0 0
0 0 0 0 4 0 4 0 0 0 0 0 0 0 0 0 4 0 4 0 0 0 0
0 0 0 0 0 4 0 0 0 0 0 0 0 0 0 0 0 4 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 4 0 0 0 0 0 0 0 0 0 0 0 4 0 0 0 0 0
0 0 0 0 4 0 4 0 0 0 0 0 0 0 0 0 4 0 4 0 0 0 0
0 0 0 4 0 0 0 4 0 0 0 0 0 0 0 4 0 0 0 4 0 0 0
0 0 4 2 0 0 0 2 4 0 0 0 0 0 4 0 0 0 0 0 4 0 0
0 4 0 2 0 0 0 2 0 4 0 0 0 4 0 0 3 3 3 0 0 4 0
4 0 0 2 0 0 0 2 0 0 4 0 4 0 0 0 0 0 0 0 0 0 4
0 4 0 2 0 0 0 2 0 4 0 0 0 4 0 0 0 0 0 0 0 4 0
0 0 4 2 0 0 0 2 4 0 0 0 0 0 4 3 3 3 3 3 4 0 0
0 0 0 4 0 0 0 4 0 0 0 0 0 0 0 4 0 0 0 4 0 0 0
0 0 0 0 4 0 4 0 0 0 0 0 0 0 0 0 4 0 4 0 0 0 0
0 0 0 0 0 4 0 0 0 0 0 0 0 0 0 0 0 4 0 0 0 0 0
```


## train_2

**input:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 0
0 1 2 2 2 2 2 2 2 2 1 0 1 0 2 0 0 0 0 0 1 0
0 1 0 0 0 0 0 0 0 0 1 0 1 0 2 0 0 0 0 0 1 0
0 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 1 1 1 1 0 0 0 1 1 1 1 0 0 1 1 1 1 0 0 0 0
0 1 2 0 1 0 0 0 1 0 0 1 0 0 1 0 2 1 0 0 0 0
0 1 2 0 1 0 0 0 1 2 2 1 0 0 1 0 2 1 0 0 0 0
0 1 2 0 1 0 0 0 1 0 0 1 0 0 1 0 2 1 0 0 0 0
0 1 2 0 1 0 0 0 1 0 0 1 0 0 1 0 2 1 0 0 0 0
0 1 1 1 1 0 0 0 1 1 1 1 0 0 1 1 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```


**output:**
```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 0
0 1 3 3 3 3 3 3 3 3 1 0 1 0 2 0 0 0 0 0 1 0
0 1 0 0 0 0 0 0 0 0 1 0 1 0 2 0 0 0 0 0 1 0
0 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 1 1 1 1 0 0 0 1 1 1 1 0 0 1 1 1 1 0 0 0 0
0 1 2 0 1 0 0 0 1 0 0 1 0 0 1 0 2 1 0 0 0 0
0 1 2 0 1 0 0 0 1 3 3 1 0 0 1 0 2 1 0 0 0 0
0 1 2 0 1 0 0 0 1 0 0 1 0 0 1 0 2 1 0 0 0 0
0 1 2 0 1 0 0 0 1 0 0 1 0 0 1 0 2 1 0 0 0 0
0 1 1 1 1 0 0 0 1 1 1 1 0 0 1 1 1 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```

*   **Perception**:
    *   The task involves identifying specific shapes formed by red (2) pixels within the input grid and changing their color based on their orientation.
    *   The input grids contain various shapes and patterns using colors like white (0), blue (1), red (2), and yellow (4). These colors often form boundaries or enclosures around areas containing red pixels.
    *   The transformation specifically targets connected groups (objects) of red (2) pixels.
    *   The key determining factor for the color change is the shape/orientation of the red object: horizontal lines of red pixels are changed to green (3), while vertical lines or single red pixels remain unchanged.
    *   Other colors and structures in the grid (like the yellow diamonds or blue rectangles) serve as context but are not directly modified. They seem to define distinct regions where the red-to-green transformation rule is applied independently.
    *   The output grid retains the structure and colors of the input grid, except for the red pixels that meet the horizontal line criteria, which become green (3).

*   **Facts**:
    
```yaml
    elements:
      - object: pixel_grid
        properties:
          - colors_present: [white, blue, red, yellow] in inputs; [white, blue, red, green, yellow] in outputs.
          - background_color: white (0)
      - object: shape
        properties:
          - type: boundary
            color: [yellow (4), blue (1)]
            description: Enclose regions within the grid. Remain unchanged in the output.
          - type: content
            color: red (2)
            description: Appear as connected components (lines, single pixels) within bounded regions or independently. Targeted for transformation.
      - object: red_component
        properties:
          - connectivity: Pixels are connected cardinally (up, down, left, right).
          - shape: Can form horizontal lines, vertical lines, or single points.
            - horizontal_line: height is 1, width > 1
            - vertical_line: width is 1, height > 1
            - single_point: height is 1, width is 1
        actions:
          - change_color: If the red_component is a horizontal_line, its color changes from red (2) to green (3).
          - retain_color: If the red_component is a vertical_line or a single_point, its color remains red (2).
    relationships:
      - red_components are often located inside regions defined by boundary shapes (yellow or blue).
      - The transformation rule (color change) depends solely on the shape properties (height and width) of the red_component.
    ```


*   **Natural Language Program**:
    1.  Identify all distinct connected components (objects) composed solely of red (2) pixels in the input grid. Treat pixels connected horizontally or vertically as part of the same component.
    2.  For each identified red component:
        a.  Determine its bounding box dimensions: height (number of rows spanned) and width (number of columns spanned).
        b.  Check if the component's height is exactly 1 and its width is greater than 1.
    3.  Create the output grid as a copy of the input grid.
    4.  If a red component satisfies the condition in step 2b (height=1, width>1), change the color of all pixels belonging to that component from red (2) to green (3) in the output grid.
    5.  Leave all other pixels (including red components that are vertical lines, single pixels, or other shapes) unchanged from their input colors.
